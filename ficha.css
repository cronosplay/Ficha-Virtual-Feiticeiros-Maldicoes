/* --- CONFIGURAÇÕES GERAIS --- */
:root {
    --vermelho-neon: #ff0000;
    --vermelho-dark: #8b0000;
    --bg-dark: #0a0a0a;
    --glass-bg: rgba(20, 20, 20, 0.8);
    --glass-border: rgba(255, 0, 0, 0.3);
}

body {
    margin: 0;
    padding: 0;
    background-color: var(--bg-dark);
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    color: #fff;
    background-image: radial-gradient(circle at top right, #330000, transparent);
    min-height: 100vh;
}

.ficha-page {
    max-width: 1100px;
    margin: 0 auto;
    padding: 20px;
}

/* --- NAVEGAÇÃO --- */
.ficha-nav {
    margin-bottom: 20px;
}

.btn-back {
    background: transparent;
    border: 1px solid var(--vermelho-neon);
    color: var(--vermelho-neon);
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
}

.btn-back:hover {
    background: var(--vermelho-neon);
    color: #fff;
    box-shadow: 0 0 15px var(--vermelho-neon);
}

/* --- CONTAINER GLASS --- */
.ficha-header-glass {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 15px;
    padding: 25px;
    display: flex;
    gap: 30px;
    margin-bottom: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

/* --- SEÇÃO DA FOTO --- */
.foto-box {
    width: 220px;
    height: 280px;
    background: #000;
    border: 2px solid var(--vermelho-dark);
    border-radius: 10px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: 0.3s;
}

.foto-box:hover {
    border-color: var(--vermelho-neon);
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
}

.foto-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.foto-overlay {
    position: absolute;
    bottom: 0;
    width: 100%;
    background: rgba(255, 0, 0, 0.8);
    color: #fff;
    text-align: center;
    padding: 10px 0;
    font-size: 0.8rem;
    font-weight: bold;
    opacity: 0;
    transition: 0.3s;
}

.foto-box:hover .foto-overlay {
    opacity: 1;
}

/* --- SEÇÃO DE IDENTIDADE --- */
.identity-section {
    flex: 1;
}

.ficha-row {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
}

.field-group {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.flex-4 { flex: 4; }
.flex-1 { flex: 1; }

.field-group label {
    font-size: 0.65rem;
    color: var(--vermelho-neon);
    font-weight: bold;
    letter-spacing: 1px;
    margin-bottom: 5px;
    text-transform: uppercase;
}

.display-box, .info-val {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 10px 15px;
    border-radius: 6px;
    font-size: 1rem;
    color: #eee;
    min-height: 20px;
}

#view-nome {
    margin: 0;
    font-size: 1.4rem;
    letter-spacing: 2px;
    color: #fff;
    text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

.level-badge {
    background: var(--vermelho-neon);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    font-weight: 900;
    border-radius: 8px;
    height: 100%;
    box-shadow: 0 0 15px var(--vermelho-neon);
}

/* --- BARRA DE STATUS NEON --- */
.status-bar-neon {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
    margin-bottom: 30px;
}

.stat-item {
    background: rgba(255, 0, 0, 0.05);
    border: 1px solid var(--vermelho-dark);
    border-radius: 8px;
    padding: 10px 5px;
    text-align: center;
    transition: 0.3s;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.stat-item:hover {
    background: rgba(255, 0, 0, 0.15);
    border-color: var(--vermelho-neon);
    transform: translateY(-3px);
}

.stat-item label {
    display: block;
    font-size: 0.6rem;
    color: #bbb;
    margin-bottom: 4px;
    pointer-events: none;
}

/* Estilo do Input dentro da Barra */
.stat-item input {
    background: transparent;
    border: none;
    color: #fff;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    width: 100%;
    outline: none;
    text-shadow: 0 0 8px var(--vermelho-neon);
    font-family: inherit;
    cursor: text;
}

.stat-item input:focus {
    color: var(--vermelho-neon);
    text-shadow: 0 0 12px var(--vermelho-neon);
}

.stat-item input::-webkit-outer-spin-button,
.stat-item input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.stat-item span {
    font-size: 1.2rem;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 8px var(--vermelho-neon);
}

/* --- RESPONSIVIDADE --- */
@media (max-width: 768px) {
    .ficha-header-glass {
        flex-direction: column;
        align-items: center;
    }
    
    .status-bar-neon {
        grid-template-columns: repeat(3, 1fr);
    }

    .foto-box {
        width: 100%;
        max-width: 280px;
    }
}

#view-nivel {
    background: var(--vermelho-neon);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 1.8rem;
    font-weight: 900;
    width: 170px;
    height: 60px;
    text-align: center;
    box-shadow: 0 0 15px var(--vermelho-neon);
    cursor: pointer;
    outline: none;
}

#view-nivel::-webkit-inner-spin-button, 
#view-nivel::-webkit-outer-spin-button { 
    -webkit-appearance: none; 
    margin: 0; 
}

.tabs-container {
    display: flex;
    gap: 15px;
    margin: 20px 0;
    border-bottom: 2px solid rgba(255, 0, 0, 0.2);
    padding-bottom: 5px;
    overflow-x: auto;
    scrollbar-width: none;
}

.tabs-container::-webkit-scrollbar {
    display: none;
}

.tab-btn {
    background: transparent;
    border: none;
    color: #666;
    padding: 10px 15px;
    cursor: pointer;
    font-weight: 800;
    font-size: 0.85rem;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    white-space: nowrap;
    text-transform: uppercase;
}

.tab-btn.active {
    color: var(--vermelho-neon);
    border-bottom: 3px solid var(--vermelho-neon);
    text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

.tab-content {
    display: none;
    animation: fadeInTab 0.3s ease-in-out;
}

.tab-content.active { display: block !important; }

@keyframes fadeInTab {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
}

.card-scroll {
    max-height: 450px;
    overflow-y: auto;
    padding-right: 8px;
}
/* Container em Grid para os Atributos */
.atributos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
    padding: 10px;
}

/* Box do Atributo no Estilo Neon */
.attr-box {
    background: rgba(255, 0, 0, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: 10px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: 0.3s ease;
}

.attr-box:hover {
    border-color: var(--vermelho-neon);
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.2);
    transform: translateY(-2px);
}

.attr-box label {
    font-size: 0.65rem;
    color: var(--vermelho-neon);
    font-weight: bold;
    letter-spacing: 1px;
    margin-bottom: 5px;
}

/* O Modificador (Número Grande) */
.attr-mod-display {
    font-size: 2rem;
    font-weight: 900;
    color: #fff;
    text-shadow: 0 0 10px var(--vermelho-neon);
    margin: 5px 0;
}

/* O Valor Base (Input discreto embaixo) */
.attr-box input {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #888;
    width: 50px;
    text-align: center;
    border-radius: 4px;
    font-size: 0.9rem;
    outline: none;
}

.attr-box input:focus {
    border-color: var(--vermelho-neon);
    color: #fff;
}

.testes-container {
    margin-top: 25px;
    padding: 10px;
    border-top: 1px solid rgba(255, 0, 0, 0.1);
}

.testes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 15px;
    padding: 10px 0;
}

.teste-card {
    background: rgba(255, 0, 0, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: 0.3s ease;
}

.teste-card:hover {
    border-color: var(--vermelho-neon);
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.1);
}

.teste-total {
    font-size: 1.8rem;
    font-weight: 900;
    color: #fff;
    text-shadow: 0 0 10px var(--vermelho-neon);
    margin: 5px 0;
}

.teste-card select {
    background: rgba(0, 0, 0, 0.5);
    color: #fff;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    font-size: 0.7rem;
    padding: 5px;
    width: 100%;
    text-align: center;
    cursor: pointer;
}

.neon-divider {
    border: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--vermelho-neon), transparent);
    margin: 20px 0;
    opacity: 0.5;
}

.section-title {
    text-align: center;
    font-size: 0.8rem;
    color: var(--vermelho-neon);
    text-shadow: 0 0 5px var(--vermelho-neon);
    letter-spacing: 3px;
    margin-bottom: 15px;
    text-transform: uppercase;
}

.pericias-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 10px;
    padding-bottom: 20px;
}

.pericia-row {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 0, 0, 0.15);
    border-radius: 6px;
    padding: 8px 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: 0.2s;
}

.pericia-row:hover {
    border-color: var(--vermelho-neon);
    background: rgba(255, 0, 0, 0.05);
}

.pericia-info {
    display: flex !important;
    flex-direction: row !important; 
    align-items: center !important;
    gap: 8px;
}

.p-nome {
    font-size: 0.9rem;
    color: #fff;
    font-weight: bold;
}

.p-attr {
    font-size: 0.6rem;
    color: var(--vermelho-neon);
    letter-spacing: 1px;
}

.pericia-ctrl {
    display: flex;
    align-items: center;
    gap: 10px;
}

.p-total {
    font-size: 1.2rem;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 5px var(--vermelho-neon);
    width: 35px;
    text-align: right;
}

.pericia-row select {
    background: #0a0a0a;
    color: #ccc;
    border: 1px solid #333;
    border-radius: 4px;
    font-size: 0.7rem;
    padding: 2px 5px;
    outline: none;
    cursor: pointer;
    width: 80px;
}

.pericia-row select:focus {
    border-color: var(--vermelho-neon);
    color: #fff;
}
/* Remove o scroll interno apenas na aba geral para ela fluir com a página */
#tab-geral .card-scroll {
    max-height: none !important;
    overflow-y: visible !important;
    padding-right: 0;
}

/* Garante que o container principal da ficha não corte o conteúdo */
.tab-content {
    height: auto;
}
/* Container Geral - Removendo scrolls internos */
#tab-geral .ficha-card, 
#tab-geral .card-scroll {
    max-height: none !important;
    overflow: visible !important;
}

/* Título das Seções */
.section-title {
    color: #ff0000; /* Roxo */
    text-shadow: 0 0 8px rgba(255, 0, 0, 0.6);
    border-bottom: 1px solid rgba(255, 0, 0, 0.3);
    margin: 20px 0 15px 0;
}

/* Grid para os Testes de Resistência em Linha */
.testes-section .pericias-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
    margin-bottom: 25px;
}

/* O Estilo da Linha (idêntico ao das perícias, mas vermelho) */
.pericia-row {
    background: rgba(10, 10, 10, 0.95);
    border: 1px solid #222;
    border-left: 3px solid #ff0000; /* Borda lateral roxa */
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.pericia-row:hover {
    border-color: #ff0000;
    box-shadow: 0 0 12px rgba(255, 0, 0, 0.3);
    transform: translateX(3px);
}

.p-nome {
    color: #eee;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.85rem;
}

.p-attr {
    color: #666;
    font-size: 0.7rem;
    margin-left: 6px;
}

/* O Número Total em Roxo Neon */
.p-total {
    color: #ff0000;
    text-shadow: 0 0 5px rgba(255, 0, 0, 0.8);
    font-weight: bold;
    font-size: 1.1rem;
    margin-right: 12px;
    min-width: 35px;
    text-align: center;
}

/* Controles (Selects) */
.pericia-ctrl select {
    background: #000;
    color: #ff0000;
    border: 1px solid #333;
    border-radius: 3px;
    padding: 2px 5px;
    font-size: 0.75rem;
    outline: none;
    cursor: pointer;
}

.pericia-ctrl select:focus {
    border-color: #ff0000;
    box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
}

/* Input de Nível Estilizado */
#personagem-nivel {
    background: #000;
    border: 1px solid #ff0000;
    color: #fff;
    font-weight: bold;
    text-align: center;
    border-radius: 4px;
    padding: 4px;
    box-shadow: inset 0 0 5px rgba(255, 0, 0, 0.4);
}

/* Divisória Neon */
.neon-divider {
    border: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #ff0000, transparent);
    margin: 25px 0;
}

/* Container que agrupa os itens em linha */
.testes-grid-row {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: space-between;
    margin-bottom: 20px;
}

/* Estilo de cada item de teste (Card) */
.teste-item {
    flex: 1;
    min-width: 150px;
    background: rgba(15, 0, 25, 0.8); /* Fundo vermelho escuro */
    border: 1px solid #333;
    border-left: 3px solid #ff0000;  /* Borda lateral roxa neon */
    border-radius: 4px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    transition: all 0.3s ease;
}

.teste-item:hover {
    border-color: #ff0000;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
}

/* Alinhamento do Nome e Atributo */
.teste-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.p-nome {
    color: #ffffff;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.85rem;
}

.p-attr {
    color: #ff0000; /* Atributo em vermelho */
    font-size: 0.7rem;
    font-weight: bold;
    opacity: 0.8;
}

/* Alinhamento do Total e do Select */
.teste-ctrl {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Número Total em Roxo Neon */
.p-total {
    color: #ff0000;
    text-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    font-weight: bold;
    font-size: 1.1rem;
}

/* Estilo do Select (Roxo) */
.teste-ctrl select {
    background: #000;
    color: #fff;
    border: 1px solid #ff0000;
    border-radius: 3px;
    padding: 2px 4px;
    font-size: 0.75rem;
    cursor: pointer;
    outline: none;
}

.teste-ctrl select:focus {
    box-shadow: 0 0 5px #ff0000;
}

.pericias-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 10px;
    height: auto !important; /* Remove qualquer limitação de altura */
    overflow: visible !important; /* Garante que não haja scroll */
}

/* Garante que o ícone não empurre o resto */
.p-icon {
    width: 20px;
    height: 20px;
    display: inline-block;
    filter: drop-shadow(0 0 5px #ff0000);
    flex-shrink: 0; /* Impede o ícone de amassar */
}

/* Botão de d20 clicável */
.p-icon-btn {
    cursor: pointer !important; /* Força o cursor de clique */
    position: relative;
    z-index: 10; /* Garante que está na frente de tudo */
    pointer-events: auto; /* Garante que aceita eventos de clique */
    transition: transform 0.1s;
}

.p-icon-btn:active {
    transform: scale(0.8); /* Efeito visual de apertar o botão */
}
.p-icon-btn:hover {
    transform: scale(1.2) rotate(15deg);
    filter: drop-shadow(0 0 5px #ff0000);
}

/* Scrollbar personalizada */
.card-scroll::-webkit-scrollbar {
    width: 6px;
}
.card-scroll::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.2);
}
.card-scroll::-webkit-scrollbar-thumb {
    background: #ff0000;
    border-radius: 10px;
}
/* Garante que a linha da perícia não bloqueie o clique nos filhos */
.pericia-row {
    pointer-events: auto; 
}

/* Força o ícone do d20 a ser o topo da pilha de clique */
.p-icon-btn {
    cursor: pointer !important;
    pointer-events: all !important;
    position: relative;
    z-index: 99; /* Fica na frente do efeito de hover da linha */
}

/* Feedback visual para ter certeza que é um botão */
.p-icon-btn:hover {
    filter: brightness(1.5) drop-shadow(0 0 5px #ff0000);
    transform: scale(1.2);
}

/* --- CONFIGURAÇÕES DE SCROLL --- */
.card-scroll {
    overflow-y: auto !important;
    padding-right: 8px;
}

/* Scrollbar personalizada Roxo Neon */
.card-scroll::-webkit-scrollbar {
    width: 6px;
}
.card-scroll::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.2);
}
.card-scroll::-webkit-scrollbar-thumb {
    background: #ff0000;
    border-radius: 10px;
}

/* --- ÍCONES (D20) - ISSO RESOLVE A IMAGEM GIGANTE --- */
.p-icon-btn {
    width: 20px !important; /* Tamanho fixo */
    height: 20px !important;
    cursor: pointer !important;
    pointer-events: all !important;
    transition: transform 0.2s, filter 0.2s;
    flex-shrink: 0;
    vertical-align: middle;
}

.p-icon-btn:hover {
    transform: scale(1.2) rotate(15deg);
    filter: brightness(1.5) drop-shadow(0 0 5px #ff0000);
}

/* --- ESTRUTURA DAS LINHAS --- */
.pericia-row {
    background: rgba(10, 10, 10, 0.95);
    border: 1px solid #222;
    border-left: 3px solid #ff0000;
    padding: 8px 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 4px;
    margin-bottom: 4px;
}

.pericia-info {
    display: flex !important;
    align-items: center !important;
    gap: 10px;
}

/* --- OUTROS ESTILOS --- */
.p-total {
    color: #ff0000;
    text-shadow: 0 0 8px rgba(255, 0, 0, 0.8);
    font-weight: bold;
    font-size: 1.1rem;
    min-width: 35px;
    text-align: center;
}

.section-title {
    color: #ff0000;
    text-transform: uppercase;
    letter-spacing: 2px;
    border-bottom: 1px solid rgba(255, 0, 0, 0.3);
    margin-bottom: 15px;
}
.attr-btn {
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.attr-btn:hover {
    border-color: #ff0000;
    background: rgba(255, 0, 0, 0.1);
    transform: translateY(-2px);
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
}

.attr-btn:active {
    transform: translateY(0);
}
.rolagem-log {
    background: #1a1a1a;
    border: 1px solid #ff0000;
    border-radius: 4px;
    padding: 10px 15px;
    min-width: 250px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: white;
    font-family: sans-serif;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.2);
    animation: slideIn 0.3s ease-out;
}

.log-content {
    display: flex;
    align-items: center;
    gap: 15px;
}

.log-icon {
    width: 30px;
    height: 30px;
    background: #ff0000;
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%); /* Formato hexagonal */
}

.log-details {
    display: flex;
    flex-direction: column;
}

.log-title {
    font-weight: bold;
    font-size: 1rem;
}

.log-math {
    font-size: 0.8rem;
    color: #888;
}

.log-total {
    font-size: 1.6rem;
    font-weight: 900;
    margin-left: 20px;
}

.log-close {
    cursor: pointer;
    color: #555;
    font-size: 1.2rem;
    margin-bottom: auto;
}

.log-close:hover { color: white; }

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Animação de entrada */
.fade-in {
    animation: fadeInAnim 0.5s ease forwards;
}

/* Animação de saída */
.fade-out {
    animation: fadeOutAnim 0.5s ease forwards;
}

@keyframes fadeInAnim {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeOutAnim {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(20px);
    }
}

#log-container {
    /* Reseta o topo e fixa embaixo */
    top: auto !important;
    bottom: 20px !important;
    
    /* Mantém na direita */
    right: 20px !important;
    position: fixed !important;
    
    /* Empilha as mensagens de baixo para cima */
    display: flex;
    flex-direction: column-reverse;
    gap: 10px;
    z-index: 9999;
}

/* Garante que o alerta individual não tenha margem que quebre o layout */
.log-item {
    margin-top: 5px;
    animation: slideInUp 0.3s ease-out;
}

@keyframes slideInUp {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.rolagem-log {
    pointer-events: auto; /* Permite interagir com o log se necessário */
    opacity: 0;
}

/* Classes de Animação */
.fade-in {
    animation: fadeIn 0.4s ease-out forwards;
}

.fade-out {
    animation: fadeOut 0.5s ease-in forwards;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateX(30px) scale(0.9); }
    to { opacity: 1; transform: translateX(0) scale(1); }
}

@keyframes fadeOut {
    from { opacity: 1; transform: translateX(0); }
    to { opacity: 0; transform: translateX(30px); }
}

.card-status, .card-pericias {
    max-height: 500px;
    overflow-y: auto; /* Adiciona o scroll interno conforme solicitado */
}

/* Layout das Barras de Vida/Energia */
.status-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    background: rgba(0,0,0,0.3);
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #333;
}

.status-inputs {
    display: flex;
    align-items: center;
    gap: 5px;
}

.status-inputs input {
    width: 60px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
}

/* Exaustão */
.exaustao-track {
    display: flex;
    gap: 5px;
    justify-content: center;
    margin-top: 10px;
}

.exaustao-box {
    width: 35px;
    height: 35px;
    border: 2px solid #555;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-weight: bold;
    border-radius: 4px;
    transition: 0.3s;
}

.exaustao-box:hover {
    border-color: #ff0000;
}

.exaustao-box.active {
    background-color: #ff0000;
    border-color: #fff;
    color: #fff;
    box-shadow: 0 0 10px #ff0000;
}

.tab-content { display: none; }
.tab-content.active { display: block; }

/* Container do Status */
.status-container {
    margin-bottom: 25px;
}

.status-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.status-info label {
    font-size: 0.8rem;
    font-weight: bold;
    letter-spacing: 1px;
    color: #eee;
}

/* Inputs minimalistas dentro da barra */
.input-minimal {
    background: transparent;
    border: none;
    color: #fff;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.1rem;
    width: 50px;
    text-align: center;
    outline: none;
}

.status-inputs span {
    color: #555;
    font-weight: bold;
}

/* Fundo da Barra */
.bar-background {
    width: 100%;
    height: 12px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #333;
    border-radius: 6px;
    overflow: hidden; /* Corta o brilho que sair fora */
    position: relative;
}

/* Preenchimento Dinâmico */
.bar-fill {
    height: 100%;
    width: 100%; /* Vai ser controlado pelo JS */
    transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 10px;
}

/* Cores específicas */
.bar-fill.pv { background: linear-gradient(90deg, #ff0000, #ff4444); box-shadow: 0 0 10px #ff0000; }
.bar-fill.pe { background: linear-gradient(90deg, #0088ff, #00ccff); box-shadow: 0 0 10px #0088ff; }
.bar-fill.pi { background: linear-gradient(90deg, #ff0000, #d080ff); box-shadow: 0 0 10px #ff0000; }

.neon-divider {
    border: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #ff0000, transparent);
    margin: 30px 0;
}

/* Layout em Grid para a Aba */
.combate-layout-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr; /* Esquerda maior para as barras */
    grid-template-rows: auto auto;
    gap: 20px;
    padding: 10px;
}

/* Estilo das Barras de HUD */
.hud-bar-group {
    margin-bottom: 25px;
    background: rgba(255, 255, 255, 0.03);
    padding: 10px;
    border-radius: 4px;
}

.hud-info {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 5px;
}

.hud-label {
    font-size: 0.7rem;
    font-weight: 900;
    color: #888;
    letter-spacing: 2px;
}

.hud-values input {
    background: transparent;
    border: none;
    color: #fff;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.4rem;
    width: 60px;
    text-align: right;
    font-weight: 900;
}

.hud-bar-bg {
    width: 100%;
    height: 18px;
    background: #0a0a0a;
    border: 1px solid #222;
    position: relative;
    overflow: hidden;
    transform: skewX(-15deg); /* Dá o visual Cyberpunk */
}

.hud-bar-fill {
    height: 100%;
    width: 100%;
    transition: width 0.6s cubic-bezier(0.17, 0.67, 0.83, 0.67);
}

.pv-color { background: linear-gradient(90deg, #600, #f00); box-shadow: 0 0 15px rgba(255,0,0,0.3); }
.pe-color { background: linear-gradient(90deg, #004, #08f); box-shadow: 0 0 15px rgba(0,136,255,0.3); }
.pi-color { background: linear-gradient(90deg, #303, #a2f); box-shadow: 0 0 15px rgba(160,32,240,0.3); }

/* Glare (Brilho na barra) */
.hud-bar-glare {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 50%;
    background: rgba(255,255,255,0.05);
    pointer-events: none;
}

/* Card de Defesa Circular */
.def-circle {
    width: 100px;
    height: 100px;
    border: 4px double #ff0000;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    box-shadow: 0 0 20px rgba(160,32,240,0.2);
}

.def-circle label { font-size: 0.6rem; color: #ff0000; font-weight: bold; }
.def-circle input { background: transparent; border: none; color: #fff; font-size: 1.8rem; font-weight: 900; text-align: center; width: 100%; }

/* Tags de Condição */
.status-tags { display: flex; gap: 8px; }
.tag {
    background: #222;
    border-left: 3px solid #ff4444;
    padding: 4px 10px;
    font-size: 0.75rem;
    color: #eee;
    text-transform: uppercase;
}

/* Container de Exaustão */
.exaustao-track {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
}

.ex-box {
    width: 45px;
    height: 45px;
    border: 2px solid #333;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Orbitron', sans-serif;
    font-weight: bold;
    color: #555;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 4px;
    background: rgba(0,0,0,0.3);
}

.ex-box:hover {
    border-color: #ff0000;
    color: #fff;
}

/* Quando o nível está ativo */
.ex-box.active {
    background: #ff0000;
    color: white;
    border-color: #c040ff;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
}

/* Especial para o nível 6 (Morte/Incapacitado) */
.ex-box.active#ex-6 {
    background: #ff0000;
    border-color: #ff4444;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
}

.exaustao-desc {
    text-align: center;
    font-size: 0.85rem;
    color: #aaa;
    min-height: 40px;
    margin-bottom: 15px;
}

.btn-clear-ex {
    display: block;
    margin: 0 auto;
    background: transparent;
    border: 1px solid #444;
    color: #666;
    font-size: 0.7rem;
    padding: 5px 15px;
    cursor: pointer;
    border-radius: 3px;
}

.btn-clear-ex:hover {
    border-color: #ff4444;
    color: #ff4444;
}

.glow-hr {
    border: none;
    height: 1px;
    background: linear-gradient(90deg, transparent, #333, transparent);
    margin: 30px 0;
}/* Container de Exaustão */
.exaustao-track {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
}

.ex-box {
    width: 45px;
    height: 45px;
    border: 2px solid #333;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Orbitron', sans-serif;
    font-weight: bold;
    color: #555;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 4px;
    background: rgba(0,0,0,0.3);
}

.ex-box:hover {
    border-color: #ff0000;
    color: #fff;
}

/* Quando o nível está ativo */
.ex-box.active {
    background: #ff0000;
    color: white;
    border-color: #c040ff;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
}

/* Especial para o nível 6 (Morte/Incapacitado) */
.ex-box.active#ex-6 {
    background: #ff0000;
    border-color: #ff4444;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
}

.exaustao-desc {
    text-align: center;
    font-size: 0.85rem;
    color: #aaa;
    min-height: 40px;
    margin-bottom: 15px;
}

.btn-clear-ex {
    display: block;
    margin: 0 auto;
    background: transparent;
    border: 1px solid #444;
    color: #666;
    font-size: 0.7rem;
    padding: 5px 15px;
    cursor: pointer;
    border-radius: 3px;
}

.btn-clear-ex:hover {
    border-color: #ff4444;
    color: #ff4444;
}

.glow-hr {
    border: none;
    height: 1px;
    background: linear-gradient(90deg, transparent, #333, transparent);
    margin: 30px 0;
}

/* ===== SISTEMA DE EXAUSTÃO ===== */
.exaustao-container {
    margin-top: 15px;
    padding: 10px;
    background: rgba(255, 0, 0, 0.05);
    border: 1px dashed var(--vida);
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.exaustao-container label {
    font-size: 0.7rem;
    font-weight: 900;
    color: var(--vida);
    text-transform: uppercase;
}

#nivel-exaustao {
    background: var(--bg-input);
    color: var(--texto);
    border: 1px solid var(--vida);
    border-radius: 4px;
    padding: 3px;
    outline: none;
}

/* Classe aplicada via JS quando houver penalidade */
.valor-penalizado {
    color: var(--vida) !important;
    text-shadow: 0 0 10px var(--vida) !important;
}

.ataques-global-container {
    background: linear-gradient(180deg, rgba(18, 18, 24, 0.9) 0%, rgba(8, 8, 10, 0.95) 100%);
    border: 2px solid var(--borda);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.ataques-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.ataque-card {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid #222;
    border-radius: 8px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    transition: 0.3s;
}

.ataque-card:hover { border-color: #444; }

.amaldiçoado-border { border: 1px solid #ff000055; box-shadow: inset 0 0 10px #ff000011; }

.ataque-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8rem;
    font-weight: 900;
    text-transform: uppercase;
    color: #bbb;
}

.ataque-nome {
    font-weight: 900;
    font-size: 0.8rem;
    letter-spacing: 1px;
    color: var(--texto-muted);
}

.ataque-body {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.select-ataque-atr, .atr-fixo-badge {
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 900;
    padding: 4px 8px;
    cursor: pointer;
}

.ataque-input-group {
    text-align: center;
}

.ataque-input-group small {
    display: block;
    font-size: 0.55rem;
    color: var(--borda);
    font-weight: 800;
}

.input-outros-clean {
    background: transparent;
    border: none;
    border-bottom: 2px solid var(--borda);
    color: var(--accent);
    width: 30px;
    text-align: center;
    font-weight: 900;
    outline: none;
}

.check-treino-label {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    font-size: 0.55rem;
    color: var(--borda);
    font-weight: 800;
}

.red-text { color: #ff0000; }

.d20-icon {
    width: 24px;
    cursor: pointer;
    filter: grayscale(1) brightness(2);
    transition: 0.2s;
}

.d20-icon:hover { transform: scale(1.1); filter: grayscale(0) brightness(1); }
.red-glow { filter: drop-shadow(0 0 5px #ff0000); }

.ataque-controls {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.select-atr {
    background: #111;
    color: #ff0000;
    border: none;
    font-size: 0.75rem;
    font-weight: 900;
    cursor: pointer;
}

.input-group-small { text-align: center; }
.input-group-small label { display: block; font-size: 0.5rem; color: #555; font-weight: 800; }
.input-group-small input {
    background: transparent;
    border: none;
    border-bottom: 1px solid #333;
    color: #fff;
    width: 30px;
    text-align: center;
    font-weight: bold;
}

.check-group { text-align: center; }
.check-group label { display: block; font-size: 0.5rem; color: #555; font-weight: 800; }
.check-group input { accent-color: #ff0000; cursor: pointer; }

.ataques-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

.ataque-card {
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid #1a1a1a;
    border-radius: 6px;
    padding: 10px;
    text-align: center;
}

.ataque-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.7rem;
    font-weight: 900;
    color: #eee;
    margin-bottom: 5px;
}

/* O bônus grande no centro igual ao exemplo */
.bonus-total {
    font-size: 1.8rem;
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    color: #fff;
    margin: 10px 0;
    text-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
}

.ataque-controls {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    border-top: 1px solid #222;
    padding-top: 8px;
}

.select-atr, .static-atr {
    color: #ff0000;
    font-size: 0.7rem;
    font-weight: 900;
    background: transparent;
    border: none;
}

.input-group-small label, .check-group label {
    display: block;
    font-size: 0.45rem;
    color: #666;
    font-weight: 800;
}

.input-group-small input {
    background: #111;
    border: none;
    border-bottom: 1px solid #ff0000;
    color: #fff;
    width: 30px;
    text-align: center;
    font-size: 0.8rem;
}

/* Animação para o Log de Dados que o JS cria */
#log-master-container {
    pointer-events: none;
}

.pulse-danger {
    animation: pulse-red 1.5s infinite;
}

@keyframes pulse-red {
    0% { box-shadow: 0 0 0 0 rgba(255, 47, 146, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(255, 47, 146, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 47, 146, 0); }
}
/* Container das RDs */
.rd-container {
    margin-top: 15px;
    padding: 10px;
}

/* Grade que organiza os itens */
.rd-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 colunas no PC */
    gap: 12px;
    margin-top: 10px;
}

/* Cada quadradinho de RD */
.rd-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 0, 0, 0.3); /* Borda Roxa suave */
    border-radius: 8px;
    padding: 8px;
    text-align: center;
    transition: 0.3s;
}

.rd-item:hover {
    border-color: #ff0000;
    box-shadow: 0 0 8px rgba(255, 0, 0, 0.4);
}

.rd-item label {
    display: block;
    font-size: 0.65rem;
    color: #ff0000; /* Roxo Jujutsu */
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.rd-item input {
    width: 100%;
    background: transparent;
    border: none;
    color: #fff;
    font-size: 1.3rem;
    font-weight: bold;
    text-align: center;
    outline: none;
}

/* Ajuste para celulares */
@media (max-width: 600px) {
    .rd-grid {
        grid-template-columns: repeat(2, 1fr); /* 2 colunas no celular */
    }
}

/* Container que agrupa todos os cards */
.resistencias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Faz os cards ficarem lado a lado e quebrarem linha se faltar espaço */
    gap: 15px;
    margin-top: 10px;
}

/* Estilo de cada Card de Resistência */
.res-card {
    background: rgba(30, 30, 35, 0.6); /* Fundo escuro levemente transparente */
    border: 1px solid #444;
    border-radius: 8px;
    padding: 12px;
    text-align: center;
    transition: all 0.3s ease;
}

.res-card:hover {
    border-color: #ef4444; /* Brilho vermelho ao passar o mouse */
    background: rgba(45, 45, 50, 0.8);
}

/* Nome da Resistência (Astúcia, Fortitude...) */
.res-name {
    font-size: 0.85rem;
    font-weight: bold;
    color: #bbb;
    margin-bottom: 5px;
    text-transform: uppercase;
}

.res-name small {
    color: #ef4444; /* Cor de destaque para o atributo (INT, CON...) */
    display: block; /* Faz o atributo ficar em baixo do nome */
    font-size: 0.7rem;
}

/* O Valor Grande (Total) */
.res-total {
    font-size: 1.8rem;
    font-weight: 900;
    color: #fff;
    margin: 8px 0;
    text-shadow: 0 0 10px rgba(168, 85, 247, 0.4);
}

/* Container dos 3 inputs (T, M, O) */
.res-inputs {
    display: flex;
    justify-content: center;
    gap: 5px;
}

/* Estilo geral dos inputs numéricos nos cards */
.res-inputs input {
    width: 40px;
    height: 30px;
    background: #111;
    border: 1px solid #333;
    border-radius: 4px;
    color: #fff;
    text-align: center;
    font-size: 0.8rem;
    padding: 0;
}

/* Estilo para o input Modificador (M) que é apenas leitura */
.res-inputs input[readonly] {
    background: rgba(168, 85, 247, 0.1);
    border-color: rgba(168, 85, 247, 0.3);
    color: #ef4444;
    cursor: default;
}

/* Remove as setinhas de aumentar/diminuir do input para ficar mais limpo */
.res-inputs input::-webkit-inner-spin-button,
.res-inputs input::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.res-select {
    width: 100%;
    background: transparent;
    border: 1px solid #444;
    color: #ef4444; /* Cor roxa para o T e M */
    text-align: center;
    font-size: 0.8rem;
    font-weight: bold;
    cursor: pointer;
    border-radius: 3px;
    appearance: none; /* Remove a setinha padrão do navegador */
    text-align-last: center; /* Centraliza o texto no Chrome */
}

.res-select option {
    background: #111;
    color: #fff;
}

.res-controls {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Apenas duas colunas agora */
    gap: 8px;
    border-top: 1px solid #222;
    padding-top: 8px;
}

.btn-rolar img {
    width: 28px; /* Ajuste para não explodir o tamanho do dado */
    height: 28px;
    transition: 0.2s;
}

.res-card {
    min-width: 180px; /* Garante que os cards não fiquem esmagados */
}

/* Container que segura os 5 cards */
.resistencias-grid {
    display: flex;
    flex-wrap: nowrap; /* Mantém todos na mesma linha */
    gap: 10px;
    justify-content: space-between;
}

/* O Card Individual */
.res-card {
    flex: 1; /* Faz todos terem o mesmo tamanho */
    background: #121214;
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px 10px;
    display: flex;
    flex-direction: column;
    align-items: center; /* Centraliza tudo no meio */
    min-width: 0; /* Evita que o card estique demais */
}

/* Centralizando e limitando o D20 */
.btn-rolar {
    background: none;
    border: none;
    cursor: pointer;
    margin-bottom: 5px;
    padding: 0;
    width: 40px; /* Tamanho fixo para o dado não esticar */
    height: 40px;
}

.btn-rolar img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Garante que a imagem não distorça */
    display: block;
}

/* Ajuste dos textos (Nome e Total) */
.res-info {
    text-align: center;
    width: 100%;
}

.res-name {
    display: block;
    font-size: 0.75rem;
    color: #ef4444;
    font-weight: bold;
    margin-bottom: 5px;
}

.res-total {
    display: block;
    font-size: 1.8rem; /* Tamanho grande igual ao seu print */
    font-weight: 900;
    color: #fff;
    margin-bottom: 15px;
}

/* Ajuste dos inputs (GRAU e O) */
.res-controls {
    display: grid;
    grid-template-columns: 1fr 2fr; /* O campo 'O' é um pouco maior que o 'GRAU' */
    gap: 8px;
    width: 100%; /* Força a ficar dentro do card */
}

.control-item {
    display: flex;
    flex-direction: column;
}

.control-item small {
    font-size: 0.6rem;
    color: #888;
    margin-bottom: 2px;
}

/* Estilizando os inputs para caberem */
.res-select, 
.res-controls input {
    width: 100% !important; /* Força a respeitar a grade */
    box-sizing: border-box; /* Garante que o padding não aumente o tamanho */
    background: #000;
    border: 1px solid #444;
    color: #fff;
    padding: 4px;
    border-radius: 4px;
    height: 28px;
    font-size: 0.8rem;
    text-align: center;
}
.rd-grid-modern {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
    margin-top: 15px;
}

.rd-card-modern {
    background: rgba(18, 18, 20, 0.8);
    border: 1px solid #333;
    border-radius: 6px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: 0.3s;
}

.rd-card-modern:hover {
    border-color: #ff0000; /* Roxo do tema */
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
}

.rd-card-modern label {
    font-size: 0.65rem;
    color: #ff0000;
    font-weight: bold;
    margin-bottom: 5px;
    text-transform: uppercase;
}

.rd-card-modern input {
    width: 100%;
    background: transparent;
    border: none;
    border-bottom: 2px solid #444;
    color: #fff;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    outline: none;
}

.rd-card-modern input:focus {
    border-bottom-color: #ff0000;
}

/* Remove setinhas do campo de numero */
.rd-card-modern input::-webkit-inner-spin-button,
.rd-card-modern input::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.rd-main-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 colunas iguais */
    gap: 15px;
    padding: 15px;
    background: #0a0a0c;
    border-radius: 8px;
}

.rd-column {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.rd-category-title {
    font-size: 10px;
    color: #888;
    letter-spacing: 2px;
    font-weight: bold;
    border-bottom: 1px solid #ff0000;
    padding-bottom: 4px;
    margin-bottom: 5px;
    text-align: center;
}

.rd-item-full {
    display: flex;
    justify-content: space-between; /* Nome na esquerda, número na direita */
    align-items: center;
    background: #151517;
    border: 1px solid #2a2a2e;
    padding: 6px 10px;
    border-radius: 4px;
}

.rd-item-full label {
    font-size: 11px;
    color: #ff0000;
    font-weight: 700;
    pointer-events: none;
}

.rd-item-full input {
    width: 35px;
    background: #000;
    border: 1px solid #333;
    border-radius: 3px;
    color: #fff;
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    outline: none;
}

.rd-item-full input:focus {
    border-color: #ff0000;
}

/* Ajuste para telas menores (celular) */
@media (max-width: 800px) {
    .rd-main-container {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Overlay do Modal */
.modal-overlay {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;
}
.modal-content {
    background: #1a1a1d; width: 450px; padding: 20px; border-radius: 8px; border: 1px solid #333;
}
.row-inputs { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
.modal-body label { display: block; font-size: 12px; color: #ccc; margin-bottom: 3px; }
.modal-body input, .modal-body select { 
    width: 100%; background: #000; border: 1px solid #333; color: white; padding: 5px; border-radius: 4px;
}

/* Estilo do Card de Ataque */
.ataque-card-exp {
    background: #121214; border-radius: 6px; margin-bottom: 8px; overflow: hidden;
    border: 1px solid #222;
}
.atk-card-header {
    padding: 12px; display: flex; align-items: center; cursor: pointer; position: relative;
}
.atk-card-header:hover { background: #1a1a1d; }
.atk-info-resumo { flex-grow: 1; margin-left: 10px; }
.atk-info-resumo h5 { margin: 0; font-size: 14px; color: white; }
.atk-info-resumo span { font-size: 12px; color: #ff0000; font-weight: bold; }

.atk-card-body {
    display: none; padding: 15px; border-top: 1px solid #ff0000; background: #0a0a0c;
    font-size: 13px; color: #bbb; line-height: 1.8;
}
.btn-rolar-dice { color: #fff; font-size: 18px; margin-right: 10px; cursor: pointer; }
.btn-rolar-dice:hover { color: #ff0000; }

/* Container do Modal Expandido */
.modal-premium-content.large {
    width: 550px; /* Aumentado para não ficar apertado */
    max-width: 95vw;
    background: #121214;
    border: 1px solid #222;
    border-radius: 12px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.6);
}

.modal-premium-header {
    padding: 25px 30px;
    border-bottom: 1px solid #1f1f22;
}

.modal-premium-body {
    padding: 30px; /* Mais espaço interno */
    display: flex;
    flex-direction: column;
    gap: 25px; /* Espaço generoso entre as linhas */
}

/* Labels mais limpas */
.field-group label {
    font-size: 11px;
    color: #ff0000;
    font-weight: 700;
    letter-spacing: 1.2px;
    margin-bottom: 10px;
    display: block;
    text-transform: uppercase;
}

/* Inputs com altura maior para "respirar" */
.modal-premium-body input, 
.modal-premium-body select {
    background: #09090b;
    border: 1px solid #2a2a2e;
    color: #fff;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 14px;
    transition: all 0.3s ease;
}

.modal-premium-body input:focus {
    border-color: #ff0000;
    box-shadow: 0 0 8px rgba(255, 0, 0, 0.2);
}

/* Organização de colunas */
.field-row.three-cols {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 20px;
}

.field-row.two-cols {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

/* Botões Premium */
.modal-premium-footer {
    padding: 20px 30px;
    background: #18181b;
    display: flex;
    justify-content: flex-end;
    gap: 15px;
}

.btn-primary-glow {
    background: #ff0000;
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 6px;
    font-weight: 800;
    font-size: 12px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
    transition: 0.3s;
}

.btn-primary-glow:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 0, 0, 0.5);
}

.btn-secondary-flat {
    background: transparent;
    color: #666;
    border: none;
    font-weight: 700;
    cursor: pointer;
    font-size: 12px;
}/* Container Principal */
.atk-section-wrapper { padding: 10px; }

.atk-header-premium {
    display: flex; justify-content: space-between; align-items: center;
    padding: 15px 0; border-bottom: 1px solid rgba(255, 0, 0, 0.2); margin-bottom: 15px;
}

.atk-title { color: #eee; font-weight: 800; letter-spacing: 1.5px; font-size: 0.85rem; }
.atk-title i { color: #ff0000; margin-right: 8px; }

.btn-novo-atk-premium {
    background: transparent; border: 1px solid #ff0000; color: #ff0000;
    padding: 6px 15px; border-radius: 4px; font-weight: bold; cursor: pointer;
    transition: 0.3s; font-size: 0.75rem; text-transform: uppercase;
}
.btn-novo-atk-premium:hover { background: #ff0000; color: white; box-shadow: 0 0 15px rgba(255, 0, 0, 0.4); }

/* Modal Premium */
.modal-premium-overlay {
    display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85);
    backdrop-filter: blur(5px); z-index: 9999; justify-content: center; align-items: center;
}

.modal-premium-content {
    background: #111; width: 420px; border-radius: 12px; border: 1px solid #222;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); overflow: hidden;
}

.modal-premium-header {
    background: #18181b; padding: 15px 20px; display: flex; justify-content: space-between;
    border-bottom: 1px solid #222; align-items: center;
}
.modal-premium-header h3 { color: #fff; font-size: 1rem; margin: 0; text-transform: uppercase; letter-spacing: 1px; }

.modal-premium-body { padding: 20px; display: flex; flex-direction: column; gap: 15px; }

.field-box label, .field-full label { font-size: 10px; color: #ff0000; font-weight: 800; margin-bottom: 5px; display: block; }

.modal-premium-body input, .modal-premium-body select {
    width: 100%; background: #050505; border: 1px solid #333; color: #fff;
    padding: 10px; border-radius: 6px; font-size: 0.9rem; transition: 0.3s;
}
.modal-premium-body input:focus { border-color: #ff0000; outline: none; background: #0a0a0a; }

.field-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }

.modal-premium-footer { padding: 15px 20px; background: #18181b; display: flex; justify-content: flex-end; gap: 10px; }

.btn-atk-primary { background: #ff0000; color: #fff; border: none; padding: 10px 20px; border-radius: 6px; font-weight: bold; cursor: pointer; }
.btn-atk-secondary { background: transparent; color: #888; border: none; cursor: pointer; font-weight: bold; }

/* Card de Ataque Estilizado */
.ataque-card-premium {
    width: 100%;
    max-width: 100%; /* Impede o card de crescer além do container pai */
    background: #0d0d0f;
    border: 1px solid #1f1f23;
    border-radius: 8px;
    margin-bottom: 12px;
    overflow: hidden; /* Corta qualquer coisa que tente vazar */
    box-sizing: border-box;
}
.ataque-card-premium:hover { border-color: #ff0000; transform: translateY(-2px); }

.atk-premium-header { padding: 15px; display: flex; align-items: center; cursor: pointer; }

.atk-premium-icon { color: #ff0000; font-size: 14px; transition: 0.3s; margin-right: 15px; }

.atk-premium-info { flex-grow: 1; }
.atk-premium-info h4 { margin: 0; color: #fff; font-size: 1rem; }
.atk-premium-info span { color: #ff0000; font-size: 0.8rem; font-weight: 600; }

.btn-roll-premium {
    background: rgba(255, 0, 0, 0.1); color: #ff0000; width: 40px; height: 40px;
    display: flex; align-items: center; justify-content: center; border-radius: 8px;
    border: 1px solid rgba(255, 0, 0, 0.3); transition: 0.3s;
}
.btn-roll-premium:hover { background: #ff0000; color: white; transform: rotate(15deg); }

/* O container que expande */
.atk-premium-body {
    display: none;
    width: 100% !important;
    background: #08080a;
    box-sizing: border-box;
}
/* Reset para garantir que o navegador não coloque estilos brancos */
.modal-card-v5 *, .modal-card-v5 *::before, .modal-card-v5 *::after {
    box-sizing: border-box;
}

.modal-premium-overlay {
    display: none; position: fixed; inset: 0; 
    background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(4px);
    z-index: 9999; justify-content: center; align-items: center;
}

.modal-card-v5 {
    background: #111114; width: 500px; border-radius: 10px;
    border: 1px solid #222; box-shadow: 0 10px 40px rgba(0,0,0,0.8);
}

.modal-header-v5 {
    padding: 15px 25px; border-bottom: 1px solid #222;
    display: flex; justify-content: space-between; align-items: center;
}

.modal-header-v5 span { color: #fff; font-weight: 800; font-size: 14px; letter-spacing: 1px; }

.modal-body-v5 { padding: 25px; display: flex; flex-direction: column; gap: 20px; }

/* Labels em Roxo igual aos seus Testes de Resistência */
.field-v5 label {
    display: block; color: #ff0000; font-size: 10px; font-weight: 800;
    margin-bottom: 8px; letter-spacing: 0.5px;
}

/* Inputs Estilizados - Removendo o visual "Windows" */
.modal-body-v5 input, .modal-body-v5 select {
    width: 100%; background: #000; border: 1px solid #333;
    padding: 10px 12px; color: #fff; border-radius: 5px;
    font-size: 13px; transition: 0.2s; outline: none;
    display: block;
}

.modal-body-v5 input:focus { border-color: #ff0000; }

/* Grid System para descolar os campos */
.grid-v5-3col { display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 15px; }
.grid-v5-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

/* Botões */
.modal-footer-v5 {
    padding: 15px 25px; background: #16161a;
    display: flex; justify-content: flex-end; gap: 15px;
}

.btn-add-v5 {
    background: #ff0000; color: #fff; border: none; padding: 10px 20px;
    border-radius: 4px; font-weight: 800; font-size: 11px; cursor: pointer;
}

.btn-cancel-v5 { background: transparent; border: none; color: #666; font-size: 11px; cursor: pointer; }

/* Estilo para o conteúdo dentro do card expandido */
.detalhes-ataque-v5 {
    padding: 15px;
    background: #0a0a0c;
    border-top: 1px solid #1f1f23;
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* Divide em 2 colunas */
    gap: 10px;
}

.info-item-v5 {
    font-size: 12px;
    color: #eee;
}

.info-item-v5 b {
    color: #ff0000; /* Roxo para as labels */
    text-transform: uppercase;
    font-size: 10px;
    margin-right: 5px;
}

/* Modal v5 - Ajuste de espaçamento */
.modal-card-v5 {
    background: #0d0d0f; width: 480px; border-radius: 12px;
    border: 1px solid #222; box-shadow: 0 20px 50px rgba(0,0,0,0.9);
}
.modal-body-v5 { padding: 30px; display: flex; flex-direction: column; gap: 25px; }

.grid-v5-3col { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 20px; }
.grid-v5-2col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

/* Container das informações (Bônus, Tipo, etc) */
.atk-grid-container {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 10px;
    padding: 20px;
    width: 100% !important;
    box-sizing: border-box;
}

.grid-item {
    overflow: hidden; /* Se o texto for muito grande, ele não explode a grid */
    text-overflow: ellipsis;
    white-space: nowrap;
}
.atk-grid-container small {
    color: #ff0000;
    font-weight: 800;
    font-size: 9px;
    letter-spacing: 1px;
    display: block;
    margin-bottom: 4px;
}

.grid-info-val {
    color: #eee;
    font-size: 13px;
}

/* Ajuste na Barra de Ações */
.atk-actions-row {
    display: block !important; /* Mudamos para block para garantir que ele ocupe a linha toda */
    width: 100% !important;
    padding: 15px 20px;
    border-top: 1px solid #1f1f23;
    background: rgba(0, 0, 0, 0.4);
    box-sizing: border-box;
    text-align: left; /* Garante que o conteúdo comece na esquerda */
}
.btn-action-del {
    float: left; /* Joga o remover pra esquerda */
    background: none;
    border: none;
    color: #ff4444;
    cursor: pointer;
    font-size: 10px;
    font-weight: 800;
    text-transform: uppercase;
}

.btn-action-edit {
    float: right; /* Joga o editar pra direita, mas DENTRO do limite do padding */
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    font-size: 10px;
    font-weight: 800;
    text-transform: uppercase;
}

/* Limpa o float para o card não bugar */
.atk-actions-row::after {
    content: "";
    display: table;
    clear: both;
}
.btn-action-del:hover { color: #ff6666; transform: scale(1.05); }
.btn-action-edit:hover { color: #aaa; transform: scale(1.05); }

.resultado-container-v5 {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #0d0d0f;
    border-left: 4px solid #ff2d75; /* A faixinha rosa lateral */
    border-radius: 6px;
    padding: 15px 25px;
    z-index: 9999;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    animation: slideIn 0.3s ease-out;
}

.res-content-v5 { display: flex; align-items: center; gap: 20px; }

.dado-wrapper { position: relative; color: #fff; font-size: 40px; }
#valor-natural-v5 {
    position: absolute; top: 52%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px; font-weight: 900; color: #000;
}

.res-center h2 { color: #ff2d75; font-size: 14px; margin: 0; letter-spacing: 1px; }
.res-center p { color: #888; font-size: 13px; margin: 5px 0 0 0; font-weight: bold; }

.res-right {
    border-left: 1px solid #333;
    padding-left: 20px;
    text-align: center;
}
.res-right small { color: #555; font-size: 9px; font-weight: 800; display: block; }
#res-total-v5 { color: #00ffa3; font-size: 28px; font-weight: 900; }

@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

/* Cards das Habilidades (Estilo Accordion) */
.hab-card {
    background: #1a1a1e;
    border-radius: 6px;
    overflow: hidden;
    border: 1px solid #2a2a2e;
}

.hab-header {
    padding: 12px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    background: #202024;
    transition: background 0.2s;
}

.hab-header:hover { background: #2a2a2e; }

.hab-title {
    color: white;
    font-weight: bold;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.hab-icon {
    color: #ef4444;
    transition: transform 0.3s ease;
}

.hab-body {
    padding: 15px;
    color: #ccc;
    font-size: 0.85rem;
    line-height: 1.5;
    border-top: 1px solid #2a2a2e;
    display: none; /* Escondido por padrão */
}

/* O texto vermelho nas descrições */
.hab-body b { color: #ef4444; }

/* Botões de Categoria da Biblioteca */
.btn-cat-hab {
    background: transparent;
    border: none;
    color: #888;
    padding: 5px 10px;
    cursor: pointer;
    font-weight: bold;
    border-bottom: 2px solid transparent;
}
.btn-cat-hab.active {
    color: white;
    border-bottom: 2px solid #ef4444;
}

/* Botão + da Biblioteca */
.btn-add-bib {
    background: #ef4444;
    color: white;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1.2rem;
    display: flex;
    justify-content: center;
    align-items: center;
}
.btn-add-bib:hover { background: #9333ea; }

/* Estilo para os cards que o JS vai criar dentro da aba Habilidades */
.habilidade-item {
    background: rgba(255, 0, 0, 0.1); /* Roxo bem transparente */
    border-left: 4px solid #ff0000;
    margin-bottom: 10px;
    padding: 15px;
    border-radius: 4px;
    transition: 0.3s;
}

.habilidade-item:hover {
    background: rgba(255, 0, 0, 0.2);
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
}

.habilidade-nome {
    color: #ff0000;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 1.1em;
    display: block;
    margin-bottom: 5px;
}

.habilidade-desc {
    color: #ccc;
    font-size: 0.9em;
    line-height: 1.4;
}

/* --- 1. ESTILO DOS MODAIS (JANELAS FLUTUANTES) --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(5px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.modal-content, .modal-content-large {
    background: #0d0d0d;
    border: 2px solid #ff0000; /* ROXO DE SEMPRE */
    border-radius: 8px;
    width: 90%;
    max-width: 500px;
    padding: 20px;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
    color: white;
}

.modal-content-large {
    max-width: 800px;
    height: 80vh;
    display: flex;
    flex-direction: column;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #333;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.modal-header h2 {
    color: #ff0000; /* ROXO */
    text-transform: uppercase;
    font-size: 1.2rem;
    margin: 0;
}

.close-btn {
    background: none;
    border: none;
    color: #ff0000; /* ROXO */
    font-size: 24px;
    cursor: pointer;
}

/* --- 2. CARDS DE HABILIDADE NA FICHA --- */
.habilidade-card {
    width: 100%;
    min-height: 50px;
    background: #0d0d0d;
    border: 1px solid #222;
    border-left: 4px solid #ff0000;
    margin-bottom: 10px;
    padding: 15px 25px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}

.habilidade-card:hover {
    background: #141414;
    box-shadow: inset 0 0 10px rgba(255, 0, 0, 0.1);
}

.habilidade-header {
    padding: 15px;
    cursor: pointer;
    display: flex;
    align-items: center;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.habilidade-header i {
    color: #ff0000; /* Ícone Roxo */
    margin-right: 12px;
    transition: 0.3s;
}

.habilidade-desc {
    background: rgba(10, 10, 10, 0.6);
    line-height: 1.6;
    border-top: 1px solid #222;
}

/* --- 3. ELEMENTOS DA BIBLIOTECA (COMPÊNDIO) --- */
#conteudo-biblioteca {
    overflow-y: auto;
    flex-grow: 1;
    padding-right: 10px;
}

/* Scrollbar Roxa */
#conteudo-biblioteca::-webkit-scrollbar { width: 6px; }
#conteudo-biblioteca::-webkit-scrollbar-thumb {
    background: #ff0000;
    border-radius: 10px;
}

.item-biblioteca {
    border-bottom: 1px solid #222;
    padding: 10px 5px;
    transition: 0.2s;
}

.item-biblioteca:hover {
    background: rgba(255, 0, 0, 0.05);
}

.btn-add-hab {
    background: transparent;
    color: #ff0000;
    border: 1px solid #ff0000;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
}

.btn-add-hab:hover {
    background: #ff0000;
    color: white;
}

/* --- 4. BOTÃO PRINCIPAL "ADICIONAR" --- */
.btn-add-v6 {
    width: 100%;
    padding: 14px;
    background: linear-gradient(90deg, #1a0000, #ff0000); /* Degradê Roxo */
    border: none;
    color: white;
    font-weight: 900;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 4px;
    margin-top: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
}

.btn-add-v6:hover {
    filter: brightness(1.2);
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
}

/* --- 5. INPUTS DO MODAL MANUAL --- */
.modal-body label {
    display: block;
    font-size: 0.75rem;
    color: #ff0000; /* ROXO */
    text-transform: uppercase;
    margin-bottom: 5px;
}

.modal-body input, .modal-body textarea {
    width: 100%;
    background: #050505;
    border: 1px solid #333;
    color: #eee;
    padding: 12px;
    margin-bottom: 15px;
    border-radius: 4px;
    outline: none;
}

.modal-body input:focus, .modal-body textarea:focus {
    border-color: #ff0000;
}

/* Cores do Gojo */
:root { --vermelho-gojo: #ff0000; }

.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 1000;
    display: flex; align-items: center; justify-content: center;
}

.modal-content-large {
    background: #0a0a0a;
    border: 2px solid var(--vermelho-gojo);
    width: 90%; max-width: 600px;
    padding: 20px; border-radius: 8px;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
}


.habilidade-header {
    padding: 12px; cursor: pointer;
    display: flex; align-items: center;
    color: white; font-weight: bold;
}

.habilidade-header i { color: var(--vermelho-gojo); margin-right: 10px; transition: 0.3s; }

.habilidade-desc {
    padding: 12px; background: #0f0f0f;
    color: #ccc; border-top: 1px solid #222;
}

.btn-add-v6 {
    background: var(--vermelho-gojo);
    color: white; border: none; padding: 10px 20px;
    cursor: pointer; font-weight: bold; border-radius: 4px;
}

.item-biblioteca {
    display: flex; justify-content: space-between;
    align-items: center; padding: 10px;
    border-bottom: 1px solid #222;
}

/* Centraliza e limita o tamanho dos modais */
.modal-overlay {
    display: none; 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    background: rgba(0, 0, 0, 0.85); 
    z-index: 100000; /* Acima de tudo */
    align-items: center; 
    justify-content: center;
    backdrop-filter: blur(4px);
}

/* O conteúdo do modal propriamente dito */
.modal-content, .modal-card-manual {
    background: #0d0d0d;
    border: 2px solid #ff0000;
    width: 450px; /* Largura fixa para não esticar */
    max-width: 90%;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
}

/* Estilo para os cards de habilidade na lista */
.habilidade-card {
    background: rgba(255, 255, 255, 0.03);
    border-left: 4px solid #ff0000;
    margin-bottom: 10px;
    border-radius: 4px;
    overflow: hidden;
}

.habilidade-header {
    padding: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255, 0, 0, 0.05);
    font-weight: bold;
    color: #eee;
    transition: 0.2s;
}

.habilidade-header:hover {
    background: rgba(255, 0, 0, 0.15);
}

.habilidade-desc {
    padding: 15px;
    color: #ccc;
    font-size: 0.9rem;
    line-height: 1.5;
    border-top: 1px solid rgba(255,255,255,0.05);
}
/* Header da Seção */
.secao-header-premium {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    border-bottom: 1px solid rgba(255, 0, 0, 0.3);
    padding-bottom: 10px;
}

.titulo-secao {
    color: #eee;
    font-size: 1rem;
    letter-spacing: 1px;
    margin: 0;
}

/* Botões de Ação no topo */
.btn-acao-topo {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid #ff0000;
    color: white;
    padding: 8px 15px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
    margin-left: 10px;
}

.btn-acao-topo:hover {
    background: #ff0000;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
}

/* Grid de Habilidades (Igual às Perícias) */
.grid-habilidades {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 15px;
}

/* Card de Habilidade Estilizado */
.habilidade-card {
    background: rgba(20, 20, 25, 0.8);
    border: 1px solid #333;
    border-left: 4px solid #ff0000;
    border-radius: 4px;
    transition: 0.3s;
}

.habilidade-card:hover {
    border-color: #ff0000;
    transform: translateY(-2px);
}

/* Estilo dos botões de ação da aba */
.btn-tab-acao {
    background: transparent;
    border: 1px solid #ff0000;
    color: #ff0000;
    padding: 5px 12px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

.btn-tab-acao:hover {
    background: #ff0000;
    color: white;
}

/* Container das habilidades */
.grid-habilidades-v6 {
    display: grid;
    /* Isso cria colunas que ocupam no máximo 1000px centralizados */
    grid-template-columns: repeat(auto-fill, minmax(450px, 1fr)); 
    gap: 15px;
    width: 100%;
    max-width: 1100px; /* Evita que passe dos limites da ficha */
    margin: 20px auto; /* Centraliza na tela */
    padding: 0 10px;
    box-sizing: border-box;
}

/* Se a tela diminuir, ele passa para 2 colunas para não esmagar o texto */
@media (max-width: 1200px) {
    .grid-habilidades-v6 {
        grid-template-columns: repeat(2, 1fr);
    }
}

.grid-habilidades-v6 {
    display: flex;
    flex-direction: column; /* Alinha um embaixo do outro para largura total */
    gap: 15px;
    width: 100%;
    max-width: 1100px; /* Ajuste aqui se quiser que ele estique ainda mais */
    margin: 20px auto;
    box-sizing: border-box;
}


.habilidade-card:hover {
    border-color: #ff0000;
    transform: scale(1.01); /* Leve efeito de crescimento */
    background: rgba(15, 15, 20, 1);
}.grid-habilidades-v6 {
    display: flex;
    flex-direction: column; /* Alinha um embaixo do outro para largura total */
    gap: 15px;
    width: 100%;
    max-width: 1100px; /* Ajuste aqui se quiser que ele estique ainda mais */
    margin: 20px auto;
    box-sizing: border-box;
}


.habilidade-card:hover {
    border-color: #ff0000;
    transform: scale(1.01); /* Leve efeito de crescimento */
    background: rgba(15, 15, 20, 1);
}

.modal-content {
    width: 90%;
    max-width: 500px; /* Largura ideal para formulários */
    background: #111;
    border: 1px solid #ff0000;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.2);
    padding: 25px;
    border-radius: 8px;
}

/* Container do Modal - Limitando a largura para não ficar gigante */
.modal-content {
    width: 90%;
    max-width: 500px; /* Largura ideal para leitura e preenchimento */
    background: #0f0f12;
    border: 2px solid #ff0000;
    border-radius: 8px;
    padding: 25px;
    box-sizing: border-box; /* Fundamental para o tamanho não vazar */
}

/* Ajuste do Nome da Técnica (Input) */
#manual-hab-nome {
    width: 100%;
    height: 40px; /* Altura fixa para o nome */
    background: #1a1a1a;
    border: 1px solid #333;
    color: white;
    padding: 8px 12px;
    margin: 8px 0 20px 0;
    border-radius: 4px;
    box-sizing: border-box; /* Garante que 100% seja realmente 100% */
}

/* Ajuste da Descrição (Textarea) */
#manual-hab-desc {
    width: 100%;
    min-height: 120px; /* Altura mínima para caber o texto do efeito */
    background: #1a1a1a;
    border: 1px solid #333;
    color: white;
    padding: 12px;
    margin-top: 8px;
    border-radius: 4px;
    resize: vertical; /* Permite ao usuário esticar para baixo se precisar ler mais */
    box-sizing: border-box;
    font-family: inherit;
    line-height: 1.5;
}

.nav-sub-abas {
    display: flex;
    background: #111;
    padding: 10px 20px;
    gap: 8px;
    overflow-x: auto;
    border-bottom: 1px solid #222;
}

.tab-filter {
    background: transparent;
    border: 1px solid #333;
    color: #888;
    padding: 8px 15px;
    border-radius: 4px;
    font-size: 0.65rem;
    font-weight: bold;
    cursor: pointer;
    white-space: nowrap;
    transition: 0.3s;
}

.tab-filter:hover {
    border-color: #ff0000;
    color: #eee;
}

.tab-filter.active {
    background: rgba(255, 0, 0, 0.2);
    border-color: #ff0000;
    color: #fff;
    box-shadow: inset 0 0 10px rgba(255, 0, 0, 0.2);
}

/* Item da lista no compêndio */
.hab-item-compendio {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: #0f0f12;
    border: 1px solid #222;
    border-radius: 6px;
    margin-bottom: 10px;
}


.premium-header {
    background: linear-gradient(90deg, #1a0000 0%, #050000 100%);
    padding: 20px 30px;
    border-bottom: 1px solid rgba(255, 0, 0, 0.3);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-title h2 {
    color: #fff;
    font-size: 1.2rem;
    letter-spacing: 2px;
    margin: 0;
    text-shadow: 0 0 10px #ff0000;
}

.subtitle {
    color: #ff0000;
    font-size: 0.65rem;
    font-weight: bold;
    text-transform: uppercase;
}



.tab-premium:hover {
    background: #ff0000;
    color: white;
    border-color: #ff0000;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.4);
}

.premium-scroll-area {
    height: 450px;
    overflow-y: auto;
    padding: 20px;
}

/* Custom Scrollbar */
.premium-scroll-area::-webkit-scrollbar { width: 6px; }
.premium-scroll-area::-webkit-scrollbar-thumb { background: #ff0000; border-radius: 10px; }

/* Garante que o botão ativo se destaque dos outros */
.tab-premium.active {
    background: #ff0000 !important;
    color: white !important;
    border-color: #ff0000 !important;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

/* Garante que o cabeçalho ocupe a largura toda e alinhe os itens */
.hab-header-compendio {
    display: flex;
    justify-content: space-between; /* Título na esquerda, Botão na direita */
    align-items: center;
    padding: 10px 15px;
    background: #1a1a1e;
    min-height: 45px;
}

/* Só mostra quando o card tiver a classe .active */
.hab-card-compendio.active .hab-body-compendio {
    max-height: 300px; /* Ou o tamanho necessário para o texto */
}

/* Estilo do botão de Adicionar (O quadradinho vermelho) */
.btn-add-bib {
    background: #ff0000;
    color: white;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0; /* Impede o botão de achatar */
}

/* Ajuste do texto interno */
.hab-inner-compendio {
    padding: 15px;
    border-top: 1px solid #ff0000;
    color: #ccc;
    font-size: 0.9rem;
}

.hab-req-text {
    margin-top: 8px;
    color: #ff0000;
    font-weight: bold;
    font-size: 0.8rem;
}

/* --- ESTILIZAÇÃO DO CARD (MODO PREMIUM) --- */
.hab-card-compendio {
    background: linear-gradient(145deg, #16161a, #0f0f12); /* Gradiente sutil */
    border: 1px solid #2a2a2e;
    border-radius: 6px;
    margin-bottom: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}

.hab-card-compendio:hover {
    border-color: #ff0000;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
    transform: translateY(-2px);
}

/* --- CABEÇALHO --- */
.hab-header-compendio {
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.hab-title-compendio {
    display: flex;
    align-items: center;
    gap: 15px;
    font-family: 'Inter', sans-serif; /* Use uma fonte moderna */
}

.hab-title-compendio span {
    color: #ffffff;
    font-weight: 600;
    font-size: 1rem;
    letter-spacing: 0.5px;
    text-transform: none; /* Mantém o nome natural */
}

/* Seta minimalista */
.hab-arrow-compendio {
    color: #ff0000;
    font-size: 0.8rem;
    transition: transform 0.3s ease;
}

/* --- BOTÃO "+" (QUADRADO ROXO) --- */
.btn-add-bib {
    background: #ff0000;
    color: white;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: 0.2s;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.4);
}

.btn-add-bib:hover {
    background: #bc4cff;
    transform: scale(1.1);
}


.hab-inner-compendio {
    padding: 20px;
    border-top: 1px solid rgba(255, 0, 0, 0.3);
    position: relative;
}

/* Linha neon de separação */
.hab-inner-compendio::before {
    content: "";
    position: absolute;
    top: -1px; left: 10%; width: 80%; height: 1px;
    background: linear-gradient(90deg, transparent, #ff0000, transparent);
}

.hab-desc-text {
    color: #b0b0b5;
    font-size: 0.95rem;
    line-height: 1.6;
    margin-bottom: 10px;
}

.hab-req-text {
    color: #ff0000;
    font-size: 0.85rem;
    font-style: italic;
    opacity: 0.8;
}

/* Estado Ativo */
.hab-card-compendio.active .hab-arrow-compendio {
    transform: rotate(180deg);
}



.tab-premium {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #333;
    color: #888;
    padding: 6px 12px; /* Padding reduzido para economizar espaço */
    border-radius: 4px;
    font-size: 0.7rem; /* Fonte levemente menor para garantir o encaixe */
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap; /* Impede que o texto dentro da aba quebre */
    flex-shrink: 1; /* Permite que a aba encolha um pouco se necessário */
}

/* Tamanho do Modal aumentado para evitar aperto */
.premium-modal {
    width: 100%;
    max-width: 900px;
    min-height: 600px;
    background: rgba(10, 10, 15, 0.98);
    border: 1px solid var(--vermelho-gojo);
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* --- ÁREA DE CONTEÚDO COMPACTA --- */
.premium-scroll-area {
    padding: 15px 20px; /* Reduzi o padding superior/inferior */
    display: flex;
    flex-direction: column;
    gap: 8px; /* O segredo: de 15px para 8px para aproximar os cards */
    max-height: 65vh;
    min-height: 300px;
    overflow-y: auto;
}

/* --- AJUSTE INTERNO DO CARD --- */
.hab-card-compendio {
    width: 100%;
    margin-bottom: 0; /* Remove margens externas que podem estar sobrando */
}

.hab-header-compendio {
    padding: 12px 18px; /* Cabeçalho mais "magro" para ocupar menos espaço vertical */
    min-height: auto;
}

.hab-title-compendio span {
    font-size: 0.9rem; /* Leve redução para manter a proporção compacta */
}

/* Redução do botão para não parecer desproporcional ao card menor */
.btn-add-bib {
    width: 28px;
    height: 28px;
    font-size: 1rem;
}

.search-container-premium {
    padding: 15px 20px 5px 20px;
    display: flex;
    align-items: center;
    position: relative;
}

.search-icon {
    position: absolute;
    left: 35px;
    color: #ff0000;
    font-size: 0.9rem;
    opacity: 0.6;
}

#input-busca-compendio {
    width: 100%;
    background: #1a1a1e;
    border: 1px solid #2a2a2e;
    border-radius: 6px;
    padding: 10px 10px 10px 40px;
    color: white;
    font-size: 0.85rem;
    outline: none;
    transition: 0.3s;
}

#input-busca-compendio:focus {
    border-color: #ff0000;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
    background: #212126;
}

/* --- BARRA DE BUSCA INTERNA --- */
.search-area-premium {
    padding: 10px 20px;
    background: #0d0d0f;
    border-bottom: 1px solid rgba(255, 0, 0, 0.1);
}

.search-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.search-icon-neon {
    position: absolute;
    left: 15px;
    color: #ff0000;
    font-size: 0.85rem;
    opacity: 0.7;
}

#input-busca-compendio {
    width: 100%;
    background: #16161a;
    border: 1px solid #252529;
    border-radius: 4px;
    padding: 8px 15px 8px 40px;
    color: #fff;
    font-size: 0.8rem;
    outline: none;
}

/* --- COMPACTAÇÃO DOS CARDS (MENOS ESPAÇO) --- */
.premium-scroll-area {
    padding: 12px 20px; /* Reduzido para aproximar do topo */
    display: flex;
    flex-direction: column;
    gap: 8px; /* Diminui o espaço entre cada habilidade */
}

.hab-header-compendio {
    padding: 12px 18px !important; /* Deixa o card mais "fino" verticalmente */
}

.nav-premium-abas {
    padding: 8px 20px !important; /* Estreita a barra de abas */
    gap: 6px !important;
    display: flex;
    flex-wrap: nowrap; /* impede quebrar linha */
    overflow-x: auto; /* se faltar espaço, cria scroll horizontal */
}

/* Container das habilidades na ficha principal */
#lista-minhas-habilidades {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important; /* Aumentado de 5px para 8px para descolar um pouco */
    padding: 15px 0 !important;
}

/* O Card da habilidade */
.habilidade-card {
    margin-bottom: 0 !important;
    padding: 14px 20px !important; /* Aumentado para dar altura à barra */
    background: rgba(20, 20, 25, 0.8) !important;
    border: 1px solid #2a2a2e !important;
    border-radius: 4px !important;
    transition: all 0.2s ease;
}

.habilidade-card:hover {
    background: rgba(30, 30, 35, 0.9) !important;
    border-color: #ff0000 !important;
}

/* Título dentro da ficha */
.habilidade-header-content span {
    font-size: 0.9rem !important; /* Fonte um pouco maior que a anterior */
    letter-spacing: 0.5px !important;
    color: #ffffff !important;
}

/* Ícone da seta */
.arrow-icon {
    font-size: 0.8rem !important;
    margin-right: 5px !important;
}

/* PREVENÇÃO DE VAZAMENTO */
*, *::before, *::after {
    box-sizing: border-box;
}

/* --- ABAS PRINCIPAIS (8 COLUNAS FIXAS) --- */
.nav-premium-abas {
    display: grid !important;
    grid-template-columns: repeat(8, 1fr); /* Divide o espaço em 8 partes iguais */
    gap: 4px;
    padding: 10px 15px;
    background: #050507;
    border-bottom: 1px solid rgba(255, 0, 0, 0.2);
    width: 100%;
    box-sizing: border-box;
    overflow: hidden !important; /* MATA O SCROLL LATERAL */
}

.tab-premium {
    width: 100%;
    padding: 8px 2px !important;
    font-size: 0.58rem !important; /* Fonte pequena para não vazar */
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #252529;
    color: #888;
    cursor: pointer;
    border-radius: 4px;
}

.tab-premium.active {
    background: #ff0000 !important;
    color: white !important;
    border-color: #ff0000 !important;
}

/* --- SUB-ABAS DE NÍVEL (GRID) --- */
.nav-sub-niveis {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 3px;
    padding: 8px 15px;
    background: #0a0a0c;
    border-bottom: 1px solid rgba(255, 0, 0, 0.1);
    width: 100%;
    box-sizing: border-box;
}

.sub-tab-premium {
    background: transparent;
    border: 1px solid #252529;
    color: #666;
    padding: 5px 0;
    font-size: 0.55rem;
    font-weight: bold;
    border-radius: 3px;
    cursor: pointer;
}

.sub-tab-premium.active {
    border-color: #ff0000;
    color: #ff0000;
}

/* Isso trava as abas principais e sub-abas no mesmo estilo */
.nav-premium-abas, .nav-sub-niveis {
    display: grid !important;
    grid-template-columns: repeat(8, 1fr);
    gap: 4px;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden !important; /* MATA O SCROLL LATERAL */
}

.hab-level-tag {
    color: #ff0000;
    font-size: 0.75rem;
    font-weight: bold;
    margin-top: 5px;
}

/* Isso impede que o conteúdo debaixo "pule" quando os níveis somem */
#sub-filtros-niveis {
    min-height: 0; /* Começa zerado */
    transition: all 0.2s ease;
}

/* Garante que o grid não force o scroll lateral que vimos antes */
.nav-sub-niveis {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    width: 100% !important;
    overflow: hidden !important;
}


/* Quando o JS adiciona a classe .open, ele exibe */
.hab-card-compendio.open .hab-body-compendio {
    display: block;
}

/* Gira a setinha quando abre */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg);
    color: #ff0000;
}


/* O card com classe .open mostra o body */
.hab-card-compendio.open .hab-body-compendio {
    display: block !important;
}

/* Gira a setinha */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg);
    color: #ff0000;
}


/* 2. EXIBE quando o card tem a classe .open */
.hab-card-compendio.open .hab-body-compendio {
    display: block !important; /* Força a exibição */
}

/* 3. Estiliza o conteúdo interno */
.hab-inner-compendio {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* 4. Gira a setinha para dar o feedback visual */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg);
    color: #ff0000; /* Roxo Neon */
}

/* MOSTRA a descrição quando o card tem a classe .open */
.hab-card-compendio.open .hab-body-compendio {
    display: block !important;
}

/* Gira a setinha quando estiver aberto */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg);
    color: #ff0000;
    transition: transform 0.2s ease;
}

/* Estilo do texto da descrição */
.hab-desc-text {
    color: #ccc;
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Estado Aberto: Quando o card tem a classe .open */
.hab-card-compendio.open .hab-body-compendio {
    display: block !important; /* Força a exibição */
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;   /* Garante que o container cresça com o texto */
}

/* Garante que o texto tenha cor e tamanho */
.hab-desc-text {
    color: #e0e0e0 !important;
    font-size: 0.9rem !important;
    line-height: 1.5;
    margin-bottom: 8px;
    display: block !important;
}

.hab-req-text {
    color: #ff0000 !important; /* Roxo para destacar o requisito */
    font-size: 0.8rem;
    font-style: italic;
}

/* Rotação da Seta */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg) !important;
}

/* Estado fechado */
.hab-body-compendio {
    display: none;
    padding: 15px;
    background: rgba(0, 0, 0, 0.4);
    border-top: 1px solid rgba(255, 0, 0, 0.3);
}

/* Estado aberto */
.hab-card-compendio.open .hab-body-compendio {
    display: block;
}

/* Texto */
.hab-desc-text {
    color: #e0e0e0;
    font-size: 0.9rem;
    line-height: 1.5;
}

.hab-req-text {
    color: #ff0000;
    font-size: 0.8rem;
    font-style: italic;
}

/* Rotação da seta */
.hab-card-compendio.open .hab-arrow-compendio {
    transform: rotate(90deg);
    transition: transform 0.2s ease;
}

.tabela-status-premium {
    width: 100%;
    border-collapse: collapse;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 8px;
    overflow: hidden;
    margin-top: 10px;
    font-size: 0.85rem;
}

.tabela-status-premium th {
    background: #6c5ce7;
    color: white;
    padding: 8px;
    text-align: left;
}

.tabela-status-premium td {
    padding: 8px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: #ddd;
}

.tabela-status-premium tr:last-child td {
    border-bottom: none;
    color: #ff7675; /* Destaque para a Técnica Máxima */
    font-weight: bold;
}

.painel-especialista-container {
    padding: 20px;
    background: rgba(10, 10, 15, 0.8);
    border: 1px solid rgba(162, 155, 254, 0.2);
    border-radius: 15px;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(10px);
}

.bonus-selection-grid {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Esconde o rádio padrão */
.bonus-card input[type="radio"] {
    display: none;
}

.bonus-card {
    cursor: pointer;
    position: relative;
    display: block;
    transition: transform 0.2s ease;
}

.card-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 20px;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 10px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.lvl-tag {
    font-size: 0.7rem;
    font-weight: 800;
    color: #666;
    letter-spacing: 1px;
}

.bonus-val {
    font-family: 'Orbitron', sans-serif; /* Ou Courier New */
    font-size: 0.8rem;
    color: #aaa;
}

/* Efeito ao Selecionar */
.bonus-card input[type="radio"]:checked + .card-content {
    background: rgba(108, 92, 231, 0.1);
    border-color: #6c5ce7;
    box-shadow: 0 0 15px rgba(108, 92, 231, 0.3);
    transform: translateX(5px);
}

.bonus-card input[type="radio"]:checked + .card-content .lvl-tag {
    color: #a29bfe;
}

.bonus-card input[type="radio"]:checked + .card-content .bonus-val {
    color: #fff;
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
}

/* Estilo para a Técnica Máxima quando ativa */
.bonus-card.ultimate input[type="radio"]:checked + .card-content {
    background: rgba(255, 47, 146, 0.1);
    border-color: #ff2f92;
    box-shadow: 0 0 20px rgba(255, 47, 146, 0.4);
}

.bonus-card.ultimate input[type="radio"]:checked + .card-content .lvl-tag {
    color: #ff2f92;
}

/* Indicador lateral neon */
.selection-indicator {
    position: absolute;
    left: 0;
    top: 0;
    width: 4px;
    height: 100%;
    background: transparent;
    transition: all 0.3s;
}

.bonus-card input[type="radio"]:checked + .card-content .selection-indicator {
    background: #6c5ce7;
    box-shadow: 2px 0 10px #6c5ce7;
}

.bonus-card.ultimate input[type="radio"]:checked + .card-content .selection-indicator {
    background: #ff2f92;
    box-shadow: 2px 0 10px #ff2f92;
}

.modulo-especialista {
    margin: 25px 0;
    padding: 20px;
    background: rgba(15, 15, 20, 0.4);
    border: 1px solid rgba(162, 155, 254, 0.1);
    border-radius: 12px;
}

.modulo-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    font-family: 'Orbitron', sans-serif;
    color: #a29bfe;
    letter-spacing: 2px;
    font-size: 0.8rem;
}

.cards-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.power-card {
    cursor: pointer;
    display: block;
}

.power-card input { display: none; } /* Esconde o radio */

.card-design {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 25px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-info {
    display: flex;
    flex-direction: column;
}

.card-label {
    font-size: 0.6rem;
    color: #555;
    font-weight: bold;
}

.card-title {
    font-size: 0.9rem;
    color: #fff;
    font-weight: 700;
}

.card-value {
    font-size: 0.8rem;
    color: #a29bfe;
    font-family: monospace;
    opacity: 0.7;
}

/* --- ESTADO ATIVO (CHECKED) --- */
.power-card input:checked + .card-design {
    background: rgba(162, 155, 254, 0.1);
    border-color: #6c5ce7;
    box-shadow: 0 0 20px rgba(108, 92, 231, 0.2), inset 0 0 10px rgba(108, 92, 231, 0.1);
    transform: scale(1.02);
}

.power-card input:checked + .card-design .card-label { color: #a29bfe; }
.power-card input:checked + .card-design .card-value { opacity: 1; color: #fff; }

/* --- VERSÃO ULTIMATE (MÁXIMA) --- */
.power-card.ultimate input:checked + .card-design {
    background: rgba(255, 47, 146, 0.1);
    border-color: #ff2f92;
    box-shadow: 0 0 25px rgba(255, 47, 146, 0.3);
}

.power-card.ultimate .card-title { color: #ff2f92; }

/* Efeito de luz lateral apenas quando ativo */
.active-glow {
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 0%;
    background: #6c5ce7;
    transition: 0.3s;
    box-shadow: 0 0 15px #6c5ce7;
}

.power-card input:checked + .card-design .active-glow {
    height: 70%;
}

.power-card.ultimate input:checked + .card-design .active-glow {
    background: #ff2f92;
    box-shadow: 0 0 15px #ff2f92;
}

.modulo-lutador {
    margin: 20px 0;
    padding: 15px;
    background: rgba(20, 10, 10, 0.5);
    border: 1px solid rgba(255, 100, 0, 0.1);
    border-radius: 12px;
}

.empolgacao-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
}

.fight-card { cursor: pointer; }
.fight-card input { display: none; }

.fight-design {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px 5px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
}

.fight-lvl { font-size: 0.65rem; color: #666; font-weight: bold; }
.fight-dice { font-size: 0.85rem; color: #fff; font-family: 'Orbitron', sans-serif; margin-top: 4px; }

/* ESTADO SELECIONADO */
.fight-card input:checked + .fight-design {
    background: rgba(255, 107, 0, 0.15);
    border-color: #ff6b00;
    box-shadow: 0 0 15px rgba(255, 107, 0, 0.2);
    transform: translateY(-3px);
}

.fight-card input:checked + .fight-design .fight-lvl { color: #ffab7d; }

/* INDICADOR DE BARRA INFERIOR */
.active-bar {
    position: absolute;
    bottom: 0;
    width: 0%;
    height: 3px;
    background: #ff6b00;
    transition: 0.3s;
}

.fight-card input:checked + .fight-design .active-bar { width: 80%; }

/* CORES PARA NÍVEIS ALTOS */
.highlight-orange input:checked + .fight-design { border-color: #ff9f43; }
.ultimate-red input:checked + .fight-design { 
    border-color: #ff4d4d; 
    background: rgba(255, 77, 77, 0.15);
    box-shadow: 0 0 20px rgba(255, 77, 77, 0.3);
}
.ultimate-red input:checked + .fight-design .active-bar { background: #ff4d4d; }

.info-box-premium {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: rgba(255, 255, 255, 0.05);
    border-left: 3px solid #a29bfe; /* Roxo para Especialista */
    padding: 10px 15px;
    margin-bottom: 20px;
    border-radius: 4px;
}

.info-box-premium i {
    margin-top: 3px;
    font-size: 0.9rem;
    color: inherit;
    opacity: 0.8;
}

.info-box-premium p {
    margin: 0;
    font-size: 0.75rem;
    line-height: 1.4;
    color: #ccc;
    font-style: italic;
}

/* Ajuste de cor para o Lutador */
.info-box-premium.lutador-border {
    border-left-color: #ff6b00; /* Laranja para Lutador */
}

.info-box-premium.lutador-border i {
    color: #ff6b00;
}

/* Remove o scroll apenas da aba de talentos e permite que ela cresça com o conteúdo */
#tab-talentos {
    display: flex;
    flex-direction: column;
    align-items: center;
    /* Mata o scroll interno definitivamente */
    overflow-y: visible !important; 
    overflow-x: hidden !important;
    height: auto !important;
    max-height: none !important;
    min-height: 100%;
    padding: 20px 0 50px 0; /* Espaço extra no fim para o rodapé */
}

/* GAP: Cria o espaçamento entre o card de Clã e o de Especialização */
.espacamento-card {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 35px; /* Ajuste aqui para aumentar ou diminuir o espaço */
}

/* CARD: Largura máxima alinhada ao topo da ficha e fundo único */
.card-premium-unificado {
    width: 95%;
    max-width: 1100px; /* Alinha com os blocos de Nome/Nível do topo */
    background: #121216 !important; /* Fundo escuro premium idêntico para ambos */
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
    overflow: hidden;
}

/* HEADER: Estilo moderno com ícone e linha roxa */
.header-premium {
    background: #1c1c2b !important; /* Mesma cor de topo para Origem e Especialização */
    color: #ffffff;
    padding: 20px 30px;
    font-weight: bold;
    font-size: 1.1em;
    text-transform: uppercase;
    letter-spacing: 1px;
    border-bottom: 2px solid #ff0000; /* Linha roxa neon */
    display: flex;
    align-items: center;
    gap: 15px;
}

/* CONTEÚDO: Padding generoso para não parecer apertado */
.body-premium {
    padding: 30px 45px;
    color: #dddddd;
    line-height: 1.6;
}

/* TEXTOS DE DESTAQUE: Roxo neon consistente */
.titulo-vermelho {
    color: #ff0000;
    font-weight: 800;
    font-size: 0.9em;
    display: block;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
}

/* DIVISOR: Linha elegante com fade nas pontas */
.divisor-premium {
    height: 1px;
    background: linear-gradient(90deg, transparent, #ff0000, transparent);
    margin: 25px 0;
    opacity: 0.4;
}

/* BOX ESPECIAL: Para o Potencial Lendário ou bônus específicos */
.box-especial-lendario {
    background: rgba(255, 0, 0, 0.05) !important;
    padding: 25px;
    border-radius: 6px;
    border: 1px solid rgba(255, 0, 0, 0.2);
    margin-top: 20px;
}

/* GRID: Organiza os bônus lado a lado em telas largas */
.grid-informacoes {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

@media (max-width: 768px) {
    .grid-informacoes {
        grid-template-columns: 1fr;
    }
}

/* Garante que o container pai não limite a altura da aba */
.tab-content {
    height: auto !important;
    overflow: visible !important;
}

/* Espaçamento entre o card de Clã e Especialização */
.espacamento-card {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 30px; 
}

/* Card Premium Largo e Unificado */
.card-premium-unificado {
    width: 98%;
    max-width: 1100px; /* Alinhado com o topo da ficha */
    background: #121216 !important;
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
    overflow: hidden;
}

/* Header sem variação de tom */
.header-premium {
    background: #1c1c2b !important;
    color: #fff;
    padding: 18px 30px;
    font-weight: bold;
    border-bottom: 2px solid #ff0000;
    display: flex;
    align-items: center;
    gap: 15px;
    text-transform: uppercase;
}

.body-premium {
    padding: 30px 45px;
    color: #ddd;
}

/* Esta regra só será ativada quando a div pai tiver o ID da aba de talentos.
   Isso evita que as abas "Geral" ou "Habilidades" fiquem quebradas.
*/
/* Remova o display: flex !important daqui */
#conteudo-dinamico-talentos {
    flex-direction: column;
    align-items: center;
    overflow: visible;
    height: auto;
}

/* Deixe o display ser controlado pela classe .active do seu JS */
#tab-talentos.active {
    display: flex ; 
}
/* Garante que o container de abas não esconda o conteúdo que "sobrar" */
.tab-content > #tab-talentos.active {
    overflow: visible !important;
    display: block !important;
}

/* Espaçamento e Largura dos Cards */
.espacamento-card {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 30px;
    clear: both; /* Garante que um card não suba no outro */
}

.card-premium-unificado {
    width: 98% !important;
    max-width: 1100px !important;
    background: #121216 !important;
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
    overflow: hidden;
    position: relative;
}

/* Ajuste do Header */
.header-premium {
    background: #1c1c2b !important;
    color: #fff;
    padding: 18px 30px;
    font-weight: bold;
    border-bottom: 2px solid #ff0000;
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Container da aba: força a expansão vertical para não criar scroll interno */
#tab-talentos {
    width: 100%;
    overflow: visible !important; 
    height: auto !important;
    max-height: none !important;
    display: none; /* Controlado pelo seu sistema de abas */
    flex-direction: column;
    align-items: center;
    padding: 20px 0;
}


/* Espaçamento entre os cards de Clã e Especialização */
.espacamento-card {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 30px; 
}

/* Card Premium: fundo unificado e largura máxima */
.card-premium-unificado {
    width: 98%;
    max-width: 1100px;
    background: #121216 !important; /* Cor sólida para evitar tons diferentes */
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
    overflow: hidden;
}

.header-premium {
    background: #1c1c2b !important;
    color: #fff;
    padding: 18px 30px;
    font-weight: bold;
    border-bottom: 2px solid #ff0000;
    display: flex;
    align-items: center;
    gap: 15px;
    text-transform: uppercase;
}

.body-premium {
    padding: 30px 45px;
    color: #ddd;
}

/* Container da aba: remove o scroll interno e centraliza */
#tab-talentos {
    width: 100%;
    overflow-y: visible !important; 
    height: auto !important;
}

/* Espaçamento entre o card de Clã e o de Especialização */
.espacamento-card {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 30px; 
}

/* Card Premium: fundo único e largura total */
.card-premium-unificado {
    width: 98% !important;
    max-width: 1100px; /* Alinhado com o topo da ficha */
    background: #121216 !important;
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.7);
    overflow: hidden;
    margin: 0 auto;
}

.header-premium {
    background: #1c1c2b !important;
    color: #fff;
    padding: 18px 30px;
    font-weight: bold;
    border-bottom: 2px solid #ff0000;
    display: flex;
    align-items: center;
    gap: 15px;
    text-transform: uppercase;
}

.body-premium {
    padding: 30px 45px;
    color: #ddd;
}

/* Garante que o grid de informações não quebre */
.grid-informacoes {
    display: grid;
    grid-template-columns: 1fr; /* Um embaixo do outro no mobile */
    gap: 15px;
    margin-top: 15px;
}

@media (min-width: 600px) {
    .grid-informacoes {
        grid-template-columns: 1fr 1fr; /* Dois colunas se houver espaço */
    }
}

/* Estilo para a caixa de Núcleos Múltiplos */
.box-especial-lendario {
    background: rgba(255, 0, 0, 0.05);
    border: 1px solid #ff0000;
    border-radius: 8px;
    padding: 15px;
    margin-top: 20px;
}

.hidden {
    display: none !important;
}

.tab-content {
    display: none; /* Esconde todas por padrão */
}

.tab-content.active {
    display: block !important; /* Mostra só a ativa */
}
#tab-talentos {
    position: relative; /* Garante que filhos com absolute fiquem dentro */
    overflow: hidden;   /* Esconde qualquer elemento que “vaze” */
}
#tab-talentos {
    position: relative; /* filhos absolute ficam presos dentro dela */
    overflow: hidden;   /* esconde qualquer coisa que tente sair do container */
}

.tab-content {
    display: none;
}
.tab-content.active {
    display: block;
}

/* Configuração da Aba de Talentos */
#tab-talentos {
    /* Remova o display: flex daqui para o JS poder esconder a aba */
    flex-direction: column;
    align-items: center; /* Centraliza as caixas horizontalmente */
    width: 100%;
    max-width: 1000px;   /* Impede que as caixas estiquem demais nos monitores largos */
    margin: 0 auto;      /* Centraliza o container na tela */
    padding: 20px;
    gap: 20px;           /* Dá um espaço entre a Origem e a Classe */
}

/* Isso garante que o conteúdo dentro dela também centralize */
#conteudo-dinamico-talentos {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

/* Ajusta as caixinhas (cards) para não ocuparem a tela toda */
#tab-talentos .ficha-card {
    width: 100%;
    max-width: 800px; /* Largura ideal para leitura */
    box-sizing: border-box;
}

#tab-combate {
    display: none; /* O JS controla isso, mas mantenha o padrão */
    width: 100%;
    max-width: 1200px;    /* Define um limite para não esticar demais */
    margin: 0 auto;       /* ISSO joga o conteúdo para o meio (centraliza) */
    padding: 20px;
    box-sizing: border-box;
    flex-direction: column;
    align-items: center;  /* Centraliza os itens internamente */
    justify-content: flex-start;
}

/* Ajuste específico para as barras de Vida e Energia */
.card-combate-full {
    width: 100%;
    max-width: 900px;     /* Largura máxima das barras */
    margin: 0 auto 30px auto; /* Centraliza a caixa das barras */
    padding: 25px;
    background: rgba(20, 20, 30, 0.8); /* Um fundo leve para dar contraste */
    border-radius: 10px;
}

/* Ajuste para as Barras de Status e Cards de Ataque */
#tab-combate .ficha-card, 
#tab-combate .card-combate-full {
    width: 100%;
    max-width: 1000px; /* Largura máxima confortável para os olhos */
    margin-bottom: 20px;
}

.status-bar-container {
    width: 100%;
    max-width: 800px; /* Diminui o comprimento das barras */
    margin: 10px auto; /* Centraliza as barras */
}

.status-bar {
    height: 25px; /* Deixa a barra mais grossa */
    border-radius: 5px;
}

/* Cor da Barra de Preparo */
.preparo-bg {
    background: linear-gradient(90deg, #ffcc00, #ffaa00);
    box-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

/* Garante que o container siga o alinhamento centralizado que fizemos antes */
#container-preparo {
    width: 100%;
    max-width: 900px;
    margin: 10px auto;
}

.preparo-color {
    background: linear-gradient(90deg, #ffcc00, #f39c12) !important;
    box-shadow: 0 0 10px rgba(255, 204, 0, 0.5) !important;
}

/* Garante que o grupo da barra ocupe o mesmo espaço que os outros */
#container-preparo.hud-bar-group {
    width: 100%; 
    max-width: 1000px; /* Ou a largura que você estiver usando nas outras */
    margin: 20px auto; /* Dá um espaço maior entre ela e a barra de cima */
}

/* Aumenta a altura da barra em si */
#container-preparo .hud-bar-bg {
    height: 17px; /* Aumente esse valor se quiser ainda mais grossa */
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    overflow: hidden;
}

/* Aumenta o texto e os inputs de dentro */
#container-preparo .hud-label {
    font-size: 1.1rem; /* Deixa o nome "PONTOS DE PREPARO" maior */
    letter-spacing: 1px;
}

#container-preparo .hud-values input {
    font-size: 1.3rem; /* Deixa os números maiores */
    width: 50px;
}

.estamina-color {
    background: linear-gradient(90deg, #2ecc71, #27ae60) !important;
    box-shadow: 0 0 10px rgba(46, 204, 113, 0.5) !important;
}

.container-danos {
    display: flex;
    gap: 20px;
    margin-top: 10px;
}

.bloco-dano {
    display: flex;
    flex-direction: column;
    font-size: 0.65rem;
    font-weight: 800;
    letter-spacing: 1px;
}

.tipo-dano {
    color: #888;
    margin-bottom: 4px;
}

.valor-dano {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 900;
    color: white;
    transition: 0.2s;
}

.valor-dano img {
    width: 16px;
    height: 16px;
}

.valor-dano:hover {
    color: #ff2f92;
    transform: scale(1.05);
}

.escala-nivel-container {
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.linha-nivel {
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 0.75rem;
}

.nivel-label {
    min-width: 70px;
    font-weight: 900;
    color: #ff2f92;
}

.nivel-dano {
    cursor: pointer;
    font-weight: 900;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: 0.2s;
}

.nivel-dano img {
    width: 15px;
}

.nivel-dano:hover {
    transform: scale(1.05);
    color: #ffcc00;
}

.nivel-extra {
    color: #aaa;
}
.nav-premium-abas {
    display: flex;
    gap: 10px;
    padding: 14px 20px;
    border-bottom: 1px solid rgba(160, 0, 255, 0.15);
}
.tab-apt {
    background: #0f0f14;
    border: 1px solid rgba(255,255,255,0.08);
    color: #9ca3af;
    padding: 6px 14px;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: .8px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.tab-apt:hover {
    border-color: rgba(180, 0, 255, 0.6);
    color: #d8b4ff;
}
.tab-apt.active {
    background: linear-gradient(90deg, #7c00ff, #ef4444);
    border-color: transparent;
    color: white;
    box-shadow: 0 0 12px rgba(247, 85, 85, 0.6);
}

.tab-apt.active:hover {
    transform: none;
}

.status-aptidoes {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    padding: 16px 20px;
    border-bottom: 1px solid rgba(255, 0, 0, 0.08);
}

.apt-nivel-box {
    background: #0f0f14;
    border: 1px solid rgba(255,255,255,0.08);
    padding: 8px 14px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 90px;
    transition: 0.2s ease;
}

.apt-nivel-box:hover {
    border-color: rgba(247, 85, 85, 0.6);
}

.apt-label {
    font-size: 10px;
    letter-spacing: 1px;
    color: #9ca3af;
    margin-bottom: 4px;
}

.apt-valor {
    font-size: 18px;
    font-weight: 700;
    background: linear-gradient(90deg, #7c00ff, #ef4444);
    -webkit-text-fill-color: transparent;
}

.status-aptidoes {
    display: flex;
    justify-content: center; /* 🔥 centraliza */
    gap: 18px;
    padding: 20px 0;
}

.apt-input {
    width: 50px;
    height: 34px;
    text-align: center;
    font-size: 18px;
    font-weight: 700;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
    background: #0f0f14;
    color: #ef4444;
    outline: none;
    transition: 0.2s ease;
}

.apt-input:focus {
    border-color: #ef4444;
    box-shadow: 0 0 8px rgba(247, 85, 85, 0.6);
}

.apt-input::-webkit-inner-spin-button,
.apt-input::-webkit-outer-spin-button {
    opacity: 0.4;
}

/* Remove setas completamente */
.apt-input::-webkit-inner-spin-button,
.apt-input::-webkit-outer-spin-button {
    display: none;
}

.apt-input {
    width: 40px;
    height: 32px;
    text-align: center;
    font-size: 16px;
    font-weight: 700;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
    background: #0f0f14;
    color: #ef4444;
}

/* Container dos botões */
.apt-control {
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Botões + e - */
.apt-btn {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
    background: #111118;
    color: #ef4444;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: 0.2s ease;
}

.apt-btn:hover {
    border-color: #ef4444;
    box-shadow: 0 0 6px rgba(168,85,247,0.6);
}

.status-aptidoes {
    display: flex;
    justify-content: center;
    gap: 18px;
    padding: 20px 0;
}

.apt-nivel-box {
    background: #0f0f14;
    border: 1px solid rgba(255,255,255,0.08);
    padding: 10px 14px;
    border-radius: 8px;
    text-align: center;
}

.apt-label {
    font-size: 11px;
    letter-spacing: 1px;
    color: #9ca3af;
    display: block;
    margin-bottom: 6px;
}

.apt-control {
    display: flex;
    align-items: center;
    gap: 6px;
}

.apt-input {
    width: 36px;
    height: 28px;
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
    background: #0f0f14;
    color: #ef4444;
}

.apt-btn {
    width: 26px;
    height: 26px;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.08);
    background: #111118;
    color: #ef4444;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.2s ease;
}

.apt-btn:hover {
    border-color: #ef4444;
    box-shadow: 0 0 6px rgba(168,85,247,0.6);
}

.shk-wrapper {
        transition: max-height 0.4s ease-out;
        overflow-y: auto; /* Scroll interno se for muito grande */
        max-height: 0; /* Começa fechado */
    }
    .shk-wrapper.open {
        max-height: 1000px; /* Abre empurrando tudo */
        border-top: 1px solid #ff0000;
    }
    /* Estilização da Scrollbar para ficar roxinha */
    .shk-wrapper::-webkit-scrollbar { width: 5px; }
    .shk-wrapper::-webkit-scrollbar-thumb { background: #ff0000; border-radius: 10px; }


    .shk-container {
        transition: max-height 0.5s ease-in-out;
        overflow-y: auto;
        max-height: 0;
        background: #000;
        scrollbar-width: thin;
        scrollbar-color: #ff0000 #000;
    }
    .shk-container.active {
        max-height: 2000px; /* Altura máxima grande para não cortar */
        border: 1px solid #ff0000;
    }
    .shk-table {
        width: 100%;
        border-collapse: collapse;
        font-family: 'Segoe UI', sans-serif;
        color: white;
        font-size: 0.8rem;
    }
    .shk-table td, .shk-table th {
        border: 1px solid #ff0000;
        padding: 5px;
        text-align: center;
    }
    .shk-label {
        color: #ff0000;
        font-weight: 800;
        text-transform: uppercase;
        font-size: 0.65rem;
    }

    /* FUNDO ESCURO */
#modal-novo-shikigami {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

/* CAIXA DO MODAL */
.modal-conteudo {
    width: 95%;
    max-width: 1100px;     /* AUMENTADO */
    height: 90vh;          /* OCUPA QUASE A TELA TODA */
    background: #0f0f14;
    border: 2px solid #7b2cbf;
    border-radius: 14px;
    padding: 25px 35px;
    color: white;
    box-shadow: 0 0 30px rgba(123, 44, 191, 0.6);
    
    display: flex;
    flex-direction: column;
}

/* TÍTULO */
.modal-conteudo h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #c77dff;
}

/* ÁREA INTERNA */
.modal-body {
    flex: 1;
    overflow-y: auto; /* só rola se REALMENTE precisar */
    padding-right: 10px;
}

/* INPUTS */
.modal-conteudo input,
.modal-conteudo textarea,
.modal-conteudo select {
    width: 100%;
    background: #1a1a22;
    border: 1px solid #444;
    border-radius: 8px;
    padding: 10px;
    color: white;
    margin-bottom: 15px;
    font-size: 14px;
}

.modal-conteudo textarea {
    min-height: 120px;
    resize: vertical;
}

/* BOTÕES */
.modal-botoes {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 20px;
}

.modal-botoes button {
    padding: 10px 18px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

.btn-salvar {
    background: #7b2cbf;
    color: white;
}

.btn-cancelar {
    background: #333;
    color: #aaa;
}

.card-compendio-shikigami {
    background: #18181c;
    border: 1px solid #2b2b30;
    border-radius: 10px;
    padding: 15px;
    transition: 0.3s;
}

.card-compendio-shikigami:hover {
    border-color: #ff0000;
    box-shadow: 0 0 15px rgba(160,32,240,0.4);
}

.comp-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.comp-header h3 {
    margin: 0;
    color: white;
}

.comp-header button {
    background: #ff0000;
    border: none;
    padding: 6px 12px;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.2s;
}

.comp-header button:hover {
    background: #c77dff;
}

.badge-categoria {
    display: inline-block;
    margin-top: 4px;
    font-size: 0.7rem;
    padding: 2px 8px;
    border-radius: 20px;
    background: rgba(160,32,240,0.2);
    color: #c77dff;
}

.comp-stats {
    display: flex;
    gap: 15px;
    margin-top: 10px;
    font-size: 0.85rem;
    color: #ccc;
}

.comp-acoes {
    margin-top: 10px;
    font-size: 0.8rem;
    color: #aaa;
}

.acao-preview {
    margin-left: 8px;
}

.shiki-ficha{
    background: linear-gradient(145deg,#0d0d0f,#151518);
    border: 1px solid #2a2a2a;
    border-left: 4px solid #ff0000;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(160,32,240,0.15);
}

/* títulos */
.shiki-ficha .titulo{
    color:#ff0000;
    font-weight:900;
    font-size:1.3rem;
}

.shiki-ficha .subtitulo{
    color:#aaa;
    font-size:0.9rem;
}

/* seções */
.shiki-ficha .secao{
    margin-top:18px;
    padding-top:10px;
    border-top:1px solid #222;
}

.shiki-ficha .secao-titulo{
    color:#ff0000;
    font-weight:800;
    margin-bottom:8px;
    letter-spacing:1px;
}

/* barra HP melhorada */
.barra-hp{
    border-radius:6px;
}

/* REMOVE QUALQUER SCROLL INTERNO DO SISTEMA DE SHIKIGAMI */

#lista-shikigamis,
#lista-shikigamis * {
    overflow: visible !important;
    max-height: none !important;
}

/* remove limite de altura das abas */
.tab-content {
    max-height: none !important;
    overflow: visible !important;
    height: auto !important;
}

/* remove scroll do conteúdo interno do modal */
.modal-biblioteca,
.modal-novo-shikigami,
.modal-content {
    max-height: none !important;
    overflow: visible !important;
}

/* ===============================
   TAB TREINOS - VISUAL PREMIUM
================================= */

.treinos-container {
    background: linear-gradient(145deg, #0f0f18, #0a0a12);
    border: 1px solid rgba(255, 0, 0, 0.2);
    border-radius: 16px;
    padding: 25px;
}

/* CARD */

.card-treino {
    background: linear-gradient(145deg, #12121c, #0c0c14);
    border: 1px solid rgba(255, 0, 0, 0.15);
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.card-treino:hover {
    border-color: #ff0000;
    box-shadow: 0 0 25px rgba(255, 0, 0, 0.25);
    transform: translateY(-2px);
}

/* Linha lateral roxa animada */

.card-treino::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 4px;
    background: linear-gradient(180deg, #ff0000, #d00000);
    box-shadow: 0 0 12px #ff0000;
}

/* TÍTULO */

.card-treino h3 {
    font-size: 16px;
    letter-spacing: 1px;
    color: #ff5555;
    margin-bottom: 15px;
    text-transform: uppercase;
}

/* ETAPAS */

.etapa {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 8px 10px;
    border-radius: 8px;
    transition: 0.2s ease;
    font-size: 13px;
}

.etapa:hover {
    background: rgba(255, 0, 0, 0.08);
}

/* Checkbox customizado */

.etapa input[type="checkbox"] {
    appearance: none;
    width: 16px;
    height: 16px;
    border: 2px solid #ff0000;
    border-radius: 4px;
    cursor: pointer;
    position: relative;
    margin-top: 4px;
    transition: 0.2s;
}

.etapa input[type="checkbox"]:checked {
    background: #ff0000;
    box-shadow: 0 0 10px #ff0000;
}

.etapa input[type="checkbox"]:checked::after {
    content: "✓";
    position: absolute;
    color: #000;
    font-size: 11px;
    left: 2px;
    top: -1px;
}

/* Nome da etapa */

.etapa strong {
    color: #ffffff;
    font-size: 13px;
}

/* Benefício */

.etapa span {
    color: #9f9f9f;
    font-size: 12px;
}

/* BONUS FINAL */

.bonus-final {
    margin-top: 15px;
    padding: 10px 12px;
    border-radius: 8px;
    font-size: 12px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #2a2a2a;
    color: #666;
    transition: all 0.3s ease;
}

/* Quando completo */

.bonus-final.ativo {
    background: linear-gradient(90deg, rgba(160,32,240,0.2), rgba(106,0,255,0.2));
    border: 1px solid #ff0000;
    color: #ffffff;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
}

/* Texto Bônus */

.bonus-final::before {
    content: "BONUS FINAL";
    display: block;
    font-size: 10px;
    letter-spacing: 1px;
    color: #ff0000;
    margin-bottom: 4px;
}

/* CENTRALIZAR TAB TREINOS */

/* Centralização real */

#tab-treinos {
    width: 100%;
}

.treinos-container {
    width: 100%;
    max-width: 850px; /* controla o tamanho */
    margin: 30px auto; /* isso centraliza */
}